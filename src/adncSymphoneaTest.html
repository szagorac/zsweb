<!DOCTYPE html>
<html>

<head>
    <title>ZScore Dialogs</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="css/zscore.css">

    <script type="text/javascript" src="js/gsap/minified/gsap.min.js"></script>
    <script type="text/javascript" src="js/util/zsUtil.js"></script>
    <script type="text/javascript" src="js/net/zsNet.js"></script>
    <script type="text/javascript" src="js/svg/zsSvg.js"></script>
    <script type="text/javascript" src="js/music/zsMusic.js"></script>
    <script type="text/javascript" src="js/audio/zsGranulator.js"></script>
    <script type="text/javascript" src="js/audio/zsSpeech.js"></script>
    <script type="text/javascript" src="js/audio/zsPlayer.js"></script>
    <script type="text/javascript" src="js/audio/zsSynth.js"></script>
    <script type="text/javascript" src="js/audio/zsNoise.js"></script>
    <script type="text/javascript" src="js/audio/zsAudio.js"></script>
    <script type="text/javascript" src="js/adncSymphonea.js"></script>
</head>

<body>
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" id="svgCanvas" viewBox="0 0 900 1600" preserveAspectRatio="xMidYMid meet">
        <defs>
             
        </defs>

        <g id="regionGrp1" style="visibility:visible;">
            <rect id="regionRect1-1" x="600" y="300" width="20" height="400" pointer-events="none" style="opacity:1;stroke:none;fill:red;fill-opacity:1" rx="0"/>
            <rect id="regionRect1" x="600" y="300" width="100" height="400" style="opacity:1;stroke-width:5;stroke:black;fill:white;fill-opacity:0" rx="0"/>
        </g>

        <g id="regionGrp2" style="visibility:visible;">
            <rect id="regionRect2-1" x="200" y="300" width="20" height="400" pointer-events="none"  style="opacity:1;stroke:none;fill:red;fill-opacity:1" rx="0"/>
            <rect id="regionRect2-2" x="220" y="300" width="20" height="400" pointer-events="none" style="opacity:1;stroke:none;fill:green;fill-opacity:1" rx="0"/>
            <rect id="regionRect2" x="200" y="300" width="100" height="400" style="opacity:1;stroke-width:5;stroke:black;fill:white;fill-opacity:0" rx="0"/>
        </g>

        <g id="regionGrp3" style="visibility:visible;">
            <rect id="regionRect3-1" x="325" y="800" width="20" height="400" pointer-events="none" style="opacity:1;stroke:none;fill:red;fill-opacity:1" rx="0"/>
            <rect id="regionRect3-2" x="345" y="800" width="20" height="400" pointer-events="none" style="opacity:1;stroke:none;fill:green;fill-opacity:1" rx="0"/>
            <rect id="regionRect3-3" x="365" y="800" width="20" height="400" pointer-events="none" style="opacity:1;stroke:none;fill:blue;fill-opacity:1" rx="0"/>
            <rect id="regionRect3" x="325" y="800" width="100" height="400" style="opacity:1;stroke-width:5;stroke:black;fill:white;fill-opacity:0" rx="0"/>
        </g>

        <g id="regionGrp4" style="visibility:visible;">
            <rect id="regionRect4-1" x="475" y="800" width="20" height="400" pointer-events="none" style="opacity:1;stroke:none;fill:red;fill-opacity:1" rx="0"/>
            <rect id="regionRect4-2" x="495" y="800" width="20" height="400" pointer-events="none" style="opacity:1;stroke:none;fill:blue;fill-opacity:1" rx="0"/>
            <rect id="regionRect4" x="475" y="800" width="100" height="400" style="opacity:1;stroke-width:5;stroke:black;fill:white;fill-opacity:0" rx="0"/>
        </g>
        
        <g id="playheadGrp" style="visibility:visible;">
            <rect id="regionRectMask" x="-1000" y="1404" width="2900" height="500" style="opacity:0.9;stroke-width:1;stroke:black;fill:white;fill-opacity:0.9" rx="0"/>
            <line id="playheadLine" x1="-1000" y1="1404" x2="1900" y2="1404" style="stroke:limegreen;stroke-width:8" />
        </g>
    </svg>
    
    <div class="myTxt" id="instructionTxt"></div>

    <div id="loadingIcon" class="loading">
        <img src="img/loaderIcon.gif">
    </div>

    <div id="btnOuterDiv" class="outer">
        <div class="middle">
            <div class="inner">
            <button id="joinBtn" class="myButton" onclick="join();">Join<br/>the performance</button>
            </div>
        </div>
    </div>
    
    <script type="text/javascript">
        function join() {
            document.getElementById('joinBtn').style.visibility = 'hidden';
            document.getElementById('btnOuterDiv').style.visibility = 'hidden';
            try {
                zscore.load();
            } catch(err) {
                if(zsUtil) {
                    zsUtil.logException(err, "Failed to load ZScore");
                } else {
                    console.log("Failed to load ZScore js, err: " + err);
                }
                window.location = 'error.html';
            }
        }
        function onErr(txt, err) {
            if(zsUtil) {
                zsUtil.logException(err, txt);
            } else {
                console.log(txt + ", err: " + err);
            }
        }
    </script>
</body>

</html>