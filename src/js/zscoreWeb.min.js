var zscore=function(t,e,n,i,a,r,o){"use strict";function s(t){this.message=t,this.name="ZScoreException"}function l(t,e,n,i,a,r,o,s){this.xStart=t,this.xEnd=e,this.yStart=n,this.yEnd=i,this.beatStartNum=a,this.beatStartDenom=r,this.beatEndNum=o,this.beatEndDenom=s}function c(t,e,n,i){this.id=t,this.no=e,this.imgFileName=n,this.imgFileUrl=i,this.isLoaded=!1,this.img=new Image,this.img.pageId=t}function f(t,e){this.id="partBtn"+t,this.class="partListButton",this.onclick="onPartSelect('"+e+"')"}function d(t,e){this.onclick="onInstrumentSelect("+t+",'"+e+"')"}function u(){this.onclick=""}function p(){}function m(){if(!In.isInitialised){if(!(t&&e&&n&&i&&a))throw new s("Invalid libraries. Required: zsUtil, zsNet, zsSvg, zsAudio and zsMusic");t.setRunMode(ge),me("init: "),vn=t.isTouchDevice(),gn=t.isSafari(navigator),me("init: IsTouch Device: "+vn+" isSafari: "+gn),In.fontCanvas=o.createElement("canvas"),In.canvasCtx=In.fontCanvas.getContext("2d"),t.listen("resize",r,h),t.listen("orientationchange",r,h),T(),k(),P(),In.isInitialised=!0}}function v(){g(In.topStave),g(In.bottomStave)}function g(e){if(!de(e)&&!de(e.config)){var n=e.config;t.setElementIdAttributes(n.positionLineId,n.posLineConf),t.setElementIdAttributes(n.beatBallId,n.posBallConf)}}function S(){In.isInitialised?(me("onStateBtnClick: zscore initialised"),e.isConnected()||(me("onStateBtnClick: zscore not connected, reconnecting..."),D())):(me("onStateBtnClick: initialising"),m())}function I(e){t.arrContains(In.score.parts,e)?(In.part.name=e,kt(e),t.makeInVisible(Sn.idPartsListOuterDiv)):me("onPartSelection: unexpected part: "+e)}function b(t,e){de(t)||de(e)||de(In.part.name)||Et(t,e,In.part.name)}function y(){x()}function T(){e.init(Sn.connectionPreference,Sn.appUrlSse,Sn.appUrlWebsockets,Sn.appUrlHttp,O,A)}function P(){de(i)?pe("initAudio: invalid zsAudio lib"):i.init(mn,0)}function x(){de(i)?pe("resetAudio: invalid zsAudio lib"):i.reset()}function k(){n.init()}function h(e){if(!t.isObject(this))return null}function A(t,n){switch(t){case e.OPEN:E(n);break;case e.CLOSED:B(n);break;case e.ERROR:N(n);break;default:pe("Unknown Connection Event State: "+t+" for type: "+n)}}function E(t){me(t+" connection opened."),C(t)}function B(t){me(t+" connection closed."),w(t)}function N(t){me(t+" connection error."),L(t)}function C(t){In.isConnected=!0,In.connectionType=t,In.reconnectAttmpts=0,R(Sn.connectedRectStyle,Sn.connectedBtnAttrib,Sn.connectedTxtStyle,Pe)}function w(t){In.isConnected=!1,R(Sn.disconnectedRectStyle,Sn.disconnectedBtnAttrib,Sn.disconnectedTxtStyle,he),D(t)}function L(t){In.isConnected=!1,R(Sn.errorRectStyle,Sn.errorBtnAttrib,Sn.errorTxtStyle,Ae),D(t)}function R(e,n,i,a){var r=t.getElement(Sn.idServerStatusRect);de(r)||ce(r,e);var o=t.getElement(Sn.idServerStatusBtn);de(o)||fe(o,n);var s=t.getElement(Sn.idServerStatusTxt);de(s)||(ce(s,i),s.textContent=a)}function D(t){e.reconnect(t,!0)}function O(t,e){In.isConnected||C(),de(t)||(e||y(),ue(t.scoreInfo)&&M(t.scoreInfo),ue(t.partInfo)&&lt(t.partInfo),ue(t.pageInfo)&&et(t.pageInfo),ue(t.mapInfo)&&F(t.mapInfo),ue(t.bpm)&&0!=t.bpm&&_(t.bpm),ue(t.actions)&&Bt(t.actions))}function M(e){t.isObject(e)&&(ue(e.title)&&V(e.title),ue(e.instruments)&&Tt(e.instruments),ue(e.bpm)&&z(e.bpm),ue(e.scoreDir)&&U(e.scoreDir))}function V(e){In.score.title!==e&&(In.score.title=e,In.score.noSpaceTitle=t.replaceEmptySpaces(e,Ie),n.setElementText(Sn.idTitle,e))}function U(t){In.scoreDir!==t&&(In.scoreDir=t)}function z(t){In.tempo!==t&&(In.tempo=t,n.setElementText(Sn.idTempoBpm,t))}function _(e){var n=t.toInt(e);if(!de(n)){var i=In.tempo,a=n/i;In.tempoModifier=a,z(n),In.isPlaying?j(a):G()}}function F(e){if(!de(e.map)&&!de(e.pageId)){e.pageId;var n=e.staveId,i=e.map,a=In[n];if(!de(a)){var r=a.config.xLeftMargin,o=JSON.parse(JSON.stringify(i));if(t.isArray(o)){for(var s={},l=0;l<o.length;l++)Y(s,o[l],r);a.beatMap=s,Q(n)}}}}function Y(t,e,n){if(!(de(t)||de(e)||de(e.beatStartNum))){var i=e.beatStartNum,a=e.xStart+n,r=e.xEnd+n,o=new l(a,r,e.yStart,e.yEnd,i,e.beatStartDenom,e.beatEndNum,e.beatEndDenom);t[i]=o}}function j(t){H(In.topStave.timeline,t),H(In.bottomStave.timeline,t)}function H(t,e){if(!de(t)){var n=t.timeScale(),i=n*e;t.timeScale(i)}}function G(){W(In.topStave),W(In.bottomStave)}function Q(t){de(t)||W(In[t])}function W(t){if(!de(t)){var e=gsap.timeline({onComplete:K,onCompleteParams:[t.id],paused:!0}),n=t.beatMap;if(!de(n)){var i=t.config.positionLineId,r=t.config.beatBallId,o=t.config.ballYmax,s=!0;for(var l in n){var c=n[l],f=In.tempo,d=a.getBeatDurationSec(f),u=c.beatStartNum;if(s){var p=Sn.beatIdPrefix+(u-1),m=c.xStart,v=Z(i,0,m,p,0);e.add(v,Ce);var g=q(r,0,m,p);e.add(g,we),s=!1}m=c.xEnd,p=Sn.beatIdPrefix+u;var S=Sn.tweenIdPrefix+p,I=Z(i,d,m,p,u),b=q(r,d,m,p),y=J(r,d/2,o,p);S=I.vars.id;e.addLabel(S,we),e.add(I,we),e.add(b,Ce),e.add(y,S)}ue(t.currentBeat)&&Qt(e,t.currentBeat),t.timeline=e}}}function Z(e,n,i,a,r){var o=Sn.tweenIdPrefix+a;return gsap.to(t.toCssIdQuery(e),{id:o,duration:n,attr:{x1:i,x2:i},ease:"none",onStart:X,onStartParams:[a,r],onComplete:$,onCompleteParams:[a,r]})}function q(e,n,i,a){var r=Sn.ballTweenIdPrefix+a;return gsap.to(t.toCssIdQuery(e),{id:r,duration:n,attr:{cx:i},ease:"none"})}function J(e,n,i,a){var r=Sn.ballTweenIdPrefix+a;return gsap.to(t.toCssIdQuery(e),{id:r,duration:n,attr:{cy:i,r:2},ease:"power1.out",autoAlpha:.5,repeat:1,yoyo:!0})}function K(t){ve("onTimelineComplete stave: "+t);var e=In[t];ue(e)&&(e.isRunning=!1),ue(e.timeline)&&e.timeline.pause(0)}function X(t,e){var n=i.getCurrentTime();In.audioTlBeatTime=n,ve("onBeatStart: beat: "+t+" beatNo: "+e+" beatTime: "+n),tt(e,t)}function $(t,e){var n=i.getCurrentTime(),a=n-In.startTimeTl;ve("onBeatEnd: beat: "+t+" beatNo: "+e+" elapsedTime: "+a)}function tt(e,n){t.isNumeric(e)&&(t.isNull(n)&&(n=Sn.beatIdPrefix+e),In.currentBeatId=n,In.currentBeatNo=e)}function et(t){if(!de(t.staveId)){var e=t.staveId,n=In[e];de(n)?pe("processPageinfo: Invalid stave for id: {}",e):(ue(t.filename)&&(n.filename=t.filename),ue(t.pageId)&&(n.pageId=t.pageId),ue(t.rndPageId)?n.rndPageId=t.rndPageId:n.rndPageId=null,nt(n))}}function nt(e){if(!de(e)){var n=e.config;if(!de(n)){var i=null,a=e.pageId;ue(e.rndPageId)&&(a=e.rndPageId);var r=at(a);i=de(r)?it(e.fileName):r.src;var o=t.getElement(n.imgId);o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),o.setAttribute("href",i)}}}function it(t){return In.scoreDir+In.score.noSpaceTitle+be+t}function at(t){var e=In.part.pages[t];return de(e)?null:e.img}function rt(t){var e=In.part.pages[t];ue(e)&&(e.isLoaded=!0),In.pageNoToLoad--,0===In.pageNoToLoad&&st(),ot(In.pageNoToLoad)}function ot(t){if(t>0){var e=xe+" "+t;R(Sn.errorRectStyle,Sn.errorBtnAttrib,Sn.errorTxtStyle,e)}else R(Sn.connectedRectStyle,Sn.connectedBtnAttrib,Sn.connectedTxtStyle,ke)}function st(){me("onPageLoadComplete: ");var t=In.part.pages,e=!0;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i.isLoaded||(me("onPageLoadComplete: page: "+n+" is not loaded, retying load"),pt(i.no),e=!1)}e&&(me("All Pages loaded: "),In.isReady=!0,ht())}function lt(e){if(ue(e.name)&&(In.part.name=e.name,n.setElementText(Sn.idInstrument,e.name)),ue(e.pageRanges)){var i=e.pageRanges;if(t.isArray(i))for(var a=0;a<i.length;a++)yt(i[a]);else yt(i)}ue(e.imgDir)&&(In.part.imgDir=e.imgDir),ue(e.imgPageNameToken)&&(In.part.imgPageNameToken=e.imgPageNameToken),ue(e.imgContPageName)&&(In.part.imgContPageName=e.imgContPageName),ue(e.contPageNo)&&(In.part.contPageNo=e.contPageNo),ct()}function ct(){var e=In.part,n=e.pageRanges;if(t.isArray(n)){for(var i=0;i<n.length;i++)ut(n[i]);ft(),dt()}}function ft(){var t=St();In.pageNoToLoad++,mt(t)}function dt(){var t=gt();In.pageNoToLoad++,mt(t)}function ut(e){if(t.isObject(e)){var n=1,i=1;ue(e.start)&&(n=t.toInt(e.start)),ue(e.end)&&(i=t.toInt(e.end));var a=In.pageNoToLoad+(i-n+1);In.pageNoToLoad=a;for(var r=n;r<=i;r++)pt(r)}}function pt(t){var e=vt(t);mt(e)}function mt(t){if(!de(t)){var e=t.imgFileUrl;de(e)||t.loadImg(e,t.id)}}function vt(e){var n=bt(e),i=In.part.pages[n];if(ue(i))return i;var a=In.part.imgPageNameToken;a=de(a)?It(e):t.replace(a,Sn.pageNoToken,""+e);var r=In.part.imgDir+a;i=new c(n,e,a,r);return In.part.pages[n]=i,i}function gt(){var t=In.part.contPageNo,e=bt(t),n=In.part.pages[e];if(ue(n))return n;var i=In.part.imgContPageName,a=In.part.imgDir+i;n=new c(e,t,i,a);return In.part.pages[e]=n,n}function St(){var t=In.part.blankPageNo,e=bt(t),n=In.part.pages[e];if(ue(n))return n;var i=Sn.blankPageUrl,a=Sn.blankPageUrl;n=new c(e,t,i,a);return In.part.pages[e]=n,n}function It(t){return In.score.noSpaceTitle+Ie+instrumentName+"_page"+t+".png"}function bt(t){return Sn.pageIdPrefix+t}function yt(t){if(!(de(t)||de(t.start)||de(t.end))){var e=t.start,n=t.end,i={start:e,end:n};In.part.pageRanges=[],In.part.pageRanges.push(i)}}function Tt(e){var n=[];if(t.isArray(e))for(var i=0;i<e.length;i++){var a=e[i];t.arrContains(Sn.filterOutParts,a)||n.push(a)}else t.arrContains(Sn.filterOutParts,a)||n.push(e);t.arrEquals(In.score.parts,n)||(In.score.parts=n),Pt(n)?kt(In.part.name):xt(n)}function Pt(e){if(de(In.part.name)||!t.isArray(e))return!1;for(var n=In.part.name,i=0;i<e.length;i++)if(n===e[i])return!0;return!1}function xt(e){var n=t.getElement(Sn.idParts);if(!de(n)){t.removeElementChildren(n);for(var i=0;i<e.length;i++){var a=e[i];if(!t.arrContains(Sn.filterOutParts,a)){var r=new f(i+1,a),o=t.createDiv(),s=t.createButton(r);t.setText(s,a),t.addChildToParent(o,s),t.addChildToParent(n,o)}}t.makeVisible(Sn.idPartsListOuterDiv)}}function kt(t){var n=new p;n[on]=t,e.sendEvent(en,n)}function ht(){var t=new p;t[on]=In.part.name,e.sendEvent(nn,t)}function At(t){var n=new p;n[sn]=t,e.sendEvent(an,n)}function Et(t,n,i){var a=new p;a[un]=t,a[pn]=n,a[on]=i,e.sendEvent(rn,a)}function Bt(e){var n=null,i=[],a={};if(t.isArray(e))for(var r=0;r<e.length;r++){var o=e[r];ue(o.type)&&(n=o.type),ue(o.targets)&&(i=o.targets),ue(o.params)&&(a=o.params),Nt(n,i,a)}}function Nt(e,n,i){if(t.logDebug("doAction: "+e),!de(e))switch(e){case"PING":le(i);break;case"START":ie(n);break;case"STOP":ne();break;case"SEMAPHORE_ON":Jt(i);break;case"SEMAPHORE_OFF":Kt(i);break;case"ACTIVATE":Wt(n,i);break;case"BEAT":jt(n,i);break;case"START_MARK":zt(n,i);break;case"INSTRUMENT_SLOTS":wt(i);break;case"RESET_INSTRUMENT_SLOTS":Ct();break;default:pe("doAction: Unknown actionType: "+e)}}function Ct(){Ot(),Rt()}function wt(t){if(!de(t)){var e=t[dn];Dt(e),Lt()}}function Lt(){t.makeVisible(Sn.idInstControls)}function Rt(){t.makeInVisible(Sn.idInstControls)}function Dt(e){if(!de(e)){var n=t.csvToArr(e);if(!(de(n)||n.length<=0)){var i=In.score.parts;if(!(de(i)||i.length<=0))for(var a=0;a<i.length;a++){var r=a+1;a<n.length?Mt(n[a],r):Vt(r)}}}}function Ot(){var t=In.score.parts;if(!(de(t)||t.length<=0))for(var e=0;e<t.length;e++){var n=e+1;Ut(n)}}function Mt(e,i){if(!de(e)&&!de(i)){var a=Sn.idInstSlotTxtPrefix+i,r=Sn.idInstSlotBtnPrefix+i,o=Sn.idInstSlotPrefix+i,s=e===In.part.name;t.makeVisible(a),t.makeVisible(r),t.makeVisible(o),t.setElementIdAttributes(o,Sn.instSlotActiveAttrib),n.setElementText(a,e.trim()),t.setElementIdStyleProperty(a,Sn.instSlotTxtActiveStyle),s?t.setElementIdStyleProperty(r,Sn.instSlotBtnActiveInstStyle):t.setElementIdStyleProperty(r,Sn.instSlotBtnActiveStyle);var l=new d(i,e);t.setElementIdAttributes(r,l)}}function Vt(e){var i=Sn.idInstSlotTxtPrefix+e,a=Sn.idInstSlotBtnPrefix+e,r=Sn.idInstSlotPrefix+e;t.makeVisible(i),t.makeVisible(a),t.makeVisible(r),t.setElementIdAttributes(r,Sn.instSlotInActiveAttrib),n.setElementText(i,Se),t.setElementIdStyleProperty(i,Sn.instSlotTxtInActiveStyle),t.setElementIdStyleProperty(a,Sn.instSlotBtnInActiveStyle);var o=new u;t.setElementIdAttributes(a,o)}function Ut(e){var n=Sn.idInstSlotTxtPrefix+e,i=Sn.idInstSlotBtnPrefix+e,a=Sn.idInstSlotPrefix+e;t.makeInVisible(n),t.makeInVisible(i),t.makeInVisible(a);var r=new u;t.setElementIdAttributes(i,r)}function zt(e,n){if(!de(n)&&!de(e))if(t.isArray(e))for(var i=0;i<e.length;i++)_t(e[i],n);else _t(e,n)}function _t(t,e){if(!de(e)){var i=In[t],a=e[fn];if(!de(i)&&!de(a)){var r=i.beatMap;if(!de(r)){var o=r[a];if(!de(o)){var s=o.xStart-1,l=Ft(i);n.setLineX(l,s,s),Yt(l,!0)}}}}}function Ft(e){return t.getElement(e.config.startLineId)}function Yt(e,n){n?t.makeElementVisible(e):t.makeElementInVisible(e)}function jt(e,n){if(!de(n)&&!de(e))if(t.isArray(e))for(var i=0;i<e.length;i++)Ht(e[i],n);else Ht(e,n)}function Ht(t,e){var n=In[t],i=e[fn];Gt(n,i)}function Gt(t,e){if(!de(t)&&!de(e)){var n=i.getCurrentTime();ve("setStaveBeat: stave: "+t.id+" beat: "+e+" time: "+n),Qt(t.timeline,e),t.currentBeat=e}}function Qt(t,e){if(!de(t)){var n=Sn.tweenIdPrefix+Sn.beatIdPrefix+e,i=t.labels;n in i?t.seek(n):ve("setTimelineBeat: Invalid beat "+n)}}function Wt(e,n){if(!de(n)&&!de(e))if(t.isArray(e))for(var i=0;i<e.length;i++)Zt(e[i],n);else Zt(e,n)}function Zt(t,e){var n=In[t],i=e[ln],a=e[cn];qt(n,i,a)}function qt(e,n,i){if(!(de(e)||de(n)||de(i))){if(n)t.setElementIdStyleProperty(e.config.maskId,Sn.activeStaveStyle);else{t.setElementIdStyleProperty(e.config.maskId,Sn.inactiveStaveStyle);var a=Ft(e);Yt(a,!1)}i&&re(e.timeline)}}function Jt(t){de(t)||$t(t.lightNo,t.colourId)}function Kt(t){de(t)||te(t.lightNo,Fe)}function Xt(){te(4,Fe),te(1,Re)}function $t(t,e){var n=ee(e);te(t,n)}function te(e,i){if(!de(e)&&!de(i))for(var a=t.toInt(e),r=1;r<=a;r++){var o=Sn.idSemaphorePrefix+r;n.setElementColour(o,i)}}function ee(t){var e;switch(t||(t=1),t){case 4:e=Re;break;case 3:e=De;break;case 2:e=Oe;break;case 1:default:e=Le}return e}function ne(){oe(),In.isPlaying=!1,Xt(),v()}function ie(e){if(t.isArray(e))for(var n=0;n<e.length;n++)ae(e[n]);else ae(e)}function ae(t){if(!de(t)){var e=In[t];if(!de(e)){var n=e.timeline;de(n)||(re(n),In.isPlaying=!0)}}}function re(t){if(de(t))pe("startTimeline: invalid timeline");else{var e=t.progress();e>0&&e<1?t.resume():t.play(0)}}function oe(){se(In.topStave.timeline),se(In.bottomStave.timeline),In.bottomStave.isPlaying=!1,In.topStave.isPlaying=!1}function se(t){de(t)?pe("stopTimeline: invalid timeline"):t.pause()}function le(e){t.isObject(e)&&ue(e.sendTimeMs)&&At(e.sendTimeMs)}function ce(e,n){t.setElementStyleProperty(e,n)}function fe(e,n){t.setElementAttributes(e,n)}function de(e){return t.isNull(e)}function ue(e){return t.isNotNull(e)}function pe(e){t.logError(e)}function me(e){t.log(e)}function ve(e){t.logDebug(e)}const ge="dev",Se="",Ie="_",be="/",ye="AV",Te="FullScore",Pe="Connected",xe="Loading",ke="READY",he="Reconnecting",Ae="Error",Ee="visible",Be="hidden",Ne="none",Ce="<",we=">",Le="green",Re="red",De="orange",Oe="yellow",Me="white",Ve="black",Ue="blue",ze="grey",_e="lightgrey",Fe=Ne,Ye=Fe,je=Me,He=Le,Ge=Re,Qe=De,We=Ue,Ze=ze,qe=Le,Je=Re,Ke=De,Xe=Me,$e=Me,tn=Ve,en="PART_REG",nn="PART_READY",an="PING",rn="SELECT_ISLOT",on="part",sn="serverTime",ln="isActive",cn="isPlay",fn="beatNo",dn="csvInstruments",un="slotNo",pn="slotInstrument";var mn=["/audio/violin-tuning.mp3"],vn=null,gn=null,Sn={connectionPreference:"ws,sse,poll",defaultConnectionType:e.WEBSOCKET,appUrlHttp:"/htp",appUrlSse:"/sse",appUrlWebsockets:"/wsoc",pageNoToken:"@PgNo@",instToken:"@Inst@",slotNoToken:"@SlotNo@",pageIdPrefix:"p",tsBaseBeatDenom:8,tsY:0,beatIdPrefix:"b",tweenIdPrefix:"tw",beatTweenIdPrefix:"btw",ballTweenIdPrefix:"bltw",idTitle:"title",idServerStatusRect:"srvrStatusRect",idServerStatusTxt:"srvrStatusTxt",idServerStatusBtn:"srvrStatBtn",idParts:"parts",idPartsListOuterDiv:"partListOuterDiv",idInstrument:"part",idInstControls:"instControls",idInstSlotPrefix:"instSlot",idInstSlotTxtPrefix:"instSlotTxt",idInstSlotBtnPrefix:"instSlotRect",idTempoBpm:"tmpBpm",idSemaphorePrefix:"semC",blankPageUrl:"img/blankStave.png",filterOutParts:[ye,Te],connectedRectStyle:{fill:He,stroke:qe,"stroke-width":"0px",visibility:Ee,opacity:1},disconnectedRectStyle:{fill:Ge,stroke:Je,"stroke-width":"1px",visibility:Ee,opacity:1},errorRectStyle:{fill:Qe,stroke:Ke,"stroke-width":"1px",visibility:Ee,opacity:1},connectedTxtStyle:{fill:Xe},disconnectedTxtStyle:{fill:$e},errorTxtStyle:{fill:tn},activeStaveStyle:{fill:Ye,stroke:We,"stroke-width":"1px",visibility:Ee,opacity:.5},inactiveStaveStyle:{fill:je,stroke:Ze,"stroke-width":"1px",visibility:Ee,opacity:.4},instSlotBtnActiveStyle:{fill:Me,stroke:Ve,"stroke-width":"1px",visibility:Ee,opacity:1},instSlotBtnActiveInstStyle:{fill:"#d7f2cd",stroke:Ve,"stroke-width":"1px",visibility:Ee,opacity:1},instSlotBtnInActiveStyle:{fill:_e,stroke:Ne,visibility:Ee,opacity:1},instSlotTxtActiveStyle:{fill:Ve,visibility:Ee,opacity:1},instSlotTxtInActiveStyle:{fill:Ve,stroke:Ne,visibility:Be,opacity:0},instSlotActiveAttrib:{filter:"url(#dropshadow)"},instSlotInActiveAttrib:{filter:"none"},connectedBtnAttrib:{filter:""},disconnectedBtnAttrib:{filter:"url(#dropshadow)"},errorBtnAttrib:{filter:"url(#dropshadow)"},topStave:{gId:"stvTop",imgId:"stvTopImg",startLineId:"stvTopStartLine",positionLineId:"stvTopPosLine",beatBallId:"stvTopBeatBall",maskId:"stvTopMask",ballYmax:84,xLeftMargin:31.5,posLineConf:{x1:"95",y1:"80",x2:"95",y2:"281"},posBallConf:{cx:"95",cy:"110",r:"4"}},bottomStave:{gId:"stvBot",imgId:"stvBotImg",startLineId:"stvBotStartLine",positionLineId:"stvBotPosLine",beatBallId:"stvBotBeatBall",maskId:"stvBotMask",ballYmax:305,xLeftMargin:31.5,posLineConf:{x1:"95",y1:"301",x2:"95",y2:"502"},posBallConf:{cx:"95",cy:"331",r:"4"}}},In={isPlaying:!1,isReady:!1,score:{title:"ZScore",noSpaceTitle:"ZScore",instrument:"Part View",parts:["Part View"],firstPageNo:1,lastPageNo:2},part:{name:"Part View",imgDir:null,imgPageNameToken:null,imgContPageName:null,blankPageNo:0,contPageNo:6666,pageRanges:[{start:1,end:1}],pages:{}},topStave:{id:"topStave",config:Sn.topStave,pageId:"p0",rndPageId:null,filename:"img/blankStave.png",beatMap:null,timeline:null,isActive:!0,isPlaying:!1,currentBeat:null},bottomStave:{id:"bottomStave",config:Sn.bottomStave,pageId:"p0",rndPageId:null,filename:"img/blankStave.png",beatMap:null,timeline:null,isActive:!1,isPlaying:!1,currentBeat:null},startTimeTl:0,currentBeatId:"b0",currentBeatNo:0,tempo:0,tempoModifier:1,scoreDir:"/score/",currentTickTimeSec:0,nextBeatTickTimeSec:0,audioTlBeatTime:0,audioTickBeatTime:0,isConnected:!1,isInitialised:!1,connectionType:null,pageNoToLoad:0};return c.prototype.loadImg=function(t){this.img.src=t,this.img.onload=function(){me("pageImgOnLoad: id: "+this.pageId),rt(this.pageId)}},{onStateBtn:function(){S()},onPartSelect:function(t){I(t)},onInstrumentSelect:function(t,e){b(t,e)}}}(zsUtil,zsNet,zsSvg,zsAudio,zsMusic,window,document);