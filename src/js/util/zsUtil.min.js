var zsUtil=function(t,n,e){"use strict";function i(t){this.message=t,this.name="ZsException"}function r(){this.data=[]}function a(t,n){this.x=t,this.y=n}function u(t,n){this.id=t,this.time=n,this.propertyBag={}}function o(t,n,e,i,r){this.at=t,this.dt=n,this.st=i,this.rt=r,this.sl=e}function s(t,n,e,i,r){this.paramName=t,this.endValue=n,this.durationMs=e,this.startTimeSec=i,this.startValue=r,this.durationSec=null,this.endTimeSec=null,this.isValid=!1,this.isFinished=!1,this.isScheduleReminder=!1,this.init()}function c(t,n,e,i,r,a){this.paramName=t,this.amplitude=n,this.freq=e,this.durationMs=i,this.startTimeSec=r,this.startValue=a,this.durationSec=null,this.endTimeSec=null,this.reminderSec=null,this.isValid=!1,this.isFinished=!1,this.isScheduleReminder=!1,this.init()}function l(t,n,e,i,r,a){this.currentValue=e,this.parentObj=t,this.propName=n,this.startValue=e,this.endValue=i,this.onUpdateCallback=r,this.onCompleteCallback=a}function f(t,n){this.type=t,this.freq=n,this.freqMod=null}function h(t,n,e,i,r,a){this.name=t,this.startTime=n,this.minValue=e,this.maxValue=i,this.oscillator=new f(r,a),this.freqLFO=null,this.minValLFO=null,this.maxValLFO=null}function d(n){if(T(n)){var e=n.toUpperCase();Jt.hasOwnProperty(e)?(_t=Jt[e],v("Run Mode set to : "+n)):t.log("ERROR setRunMode: ignoring invalid Run Mode: "+n)}}function p(t,n){S(n)?v(Ft+t):v(Ft+n+t)}function m(n){switch(_t){case Jt.PROD:return;case Jt.DEV:}t.log(n)}function v(n,e){switch(_t){case Jt.PROD:return;case Jt.DEV:}S(e)?t.log(n):t.log(e+n)}function g(t,n){var e=Ft;V(t.name)&&(e+=" name: "+t.name+bt),V(t.message)&&(e+=" msg: "+t.message+bt),V(t.stack)&&(e+=" stack: "+t.stack+bt),S(n)?v(Et+Lt+e):v(e)}function y(t){return typeof t==jt}function S(t){return y(t)||null===t}function V(t){return!S(t)}function O(t){return!S(t)&&!isNaN(t)}function T(t){return typeof t===xt}function M(t){return typeof t===qt}function R(t){return Array.isArray(t)}function F(t){return typeof t===Pt}function E(t,n){return!!M(n)&&(n instanceof t||n.constructor.prototype instanceof t)}function L(t,n,e){try{if(n.addEventListener)n.addEventListener(t,e,!1);else{if(n.attachEvent){var i=n.attachEvent(Ut+t,e);return i}v(Et)}}catch(t){v(Et+" error: "+t.name+", "+t.message)}}function w(t,n){return O(t)&&O(n)?parseFloat(t.toFixed(n)):t}function b(t){return t/Bt}function C(t){return t*Bt}function I(t,n,e,i,r){return e-n==0?i:i+(r-i)*(t-n)/(e-n)}function N(t){return S(t)?null:e.getElementById(t)}function A(t,n){return M(t)&&T(n)?t.querySelector(n):null}function P(t,n){S(t)?p("addChild: Can not find parrent: "+parentId):t.appendChild(n)}function q(t,n){S(t)?p("addChild: Can not find parrent: "+parentId):S(t.childNodes)||t.childNodes.length<=0?P(t,n):t.insertBefore(n,t.childNodes[0])}function x(t,n){var e=N(t);P(e,n)}function j(t){var n=N(t);S(n)||n.remove()}function D(t){var n=N(t);if(!S(n))for(;n.firstChild;)n.removeChild(n.firstChild)}function U(t,n){if(!S(t)&&!S(n)){var e=t.cloneNode();return e.id=n,e}logError("_cloneAndAddElement: invalid element")}function W(t,n){for(var e=[],i=0;i<t;++i){var r=n;!S(n)&&M(n)&&(r=H(n)),e.push(r)}return e}function k(t,n,e){for(var i=[],r=0;r<t;++r){for(var a=[],u=0;u<n;++u){var o=e;!S(e)&&M(e)&&(o=H(e)),a.push(o)}i.push(a)}return i}function H(t){return M(t)?JSON.parse(JSON.stringify(t)):null}function G(){var t=" -webkit- -moz- -o- -ms- ".split(" "),i=function(t){return n.matchMedia(t).matches};if("ontouchstart"in n||n.DocumentTouch&&e instanceof DocumentTouch)return!0;var r=["(",t.join("touch-enabled),("),"heartz",")"].join("");return i(r)}function B(t){return-1!=t.userAgent.indexOf("Safari")&&-1==t.userAgent.indexOf("Chrome")}function J(t,n){if(S(t)||S(n))p("setElementAttributes: invalid inputs");else for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];V(i)&&V(r)&&t.setAttribute(i,r)}}function _(t,n){if(S(t)||S(n))p("setElementAttributes: invalid inputs");else for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];V(i)&&V(r)&&t.style.setProperty(i,r)}}function z(t,n,e,i){var r=(i-90)*Math.PI/180;return{x:t+e*Math.cos(r),y:n+e*Math.sin(r)}}function Q(){return n.innerWidth||e.documentElement.clientWidth||e.body.clientWidth}function Z(){return n.innerHeight||e.documentElement.clientHeight||e.body.clientHeight}function K(t,n){return!(!T(t)||!T(n))&&t.startsWith(n)}function X(t,n){return-1!==t.indexOf(n)}function Y(t,n,e){return T(t)&&T(n)&&T(e)?t.replace(n,e):t}function $(){return S(zt)&&(zt=e.createElement(Wt)),zt}function tt(t){if(!X(t,Ht))return t;var n=$();n.innerHTML="",n.innerHTML=t;var e=n.textContent||n.innerText||t;return e}function nt(t){var n=Lt;if(!M(t))return n;for(var e in t)if(t.hasOwnProperty(e)){n.length>0&&(n+=It);var i=t[e];if(M(i)||R(i)){var r=JSON.stringify(i);n+=encodeURI(e+At+r)}else n+=encodeURI(e+At+i)}return n}function et(t,n){return T(t)&&T(n)?t.endsWith(n)?t:t+n:(p("addSuffixIfNotThere: invalid inputs"),t)}function it(t,n){if(!T(t)||!T(n))return p("wrapInSpanElement: invalid inputs"),null;var i=$();i.innerHTML=t;var r=null,a=i.getElementsByTagName(kt),u=!0;if((S(a)||0===a.length)&&(u=!1),u)r=a[0];else r=e.createElement(kt),r.innerHTML=t;return r.id=n,r.outerHTML}function rt(t){try{return JSON.parse(t)}catch(t){return null}}function at(t,n,e){var i=Ct;X(t,i)&&(i=It);var r=i+n+At+e;return t+encodeURI(r)}function ut(t){var n=Ct;X(t,n)&&(n=It);var e=new Date;return t+n+Gt+e.getTime()}function ot(t){throw new i(t)}function st(t,n){return n.split(".").reduce(function(t,n){return null==t?t:t[n]},t)}function ct(t,n){return n.split(".").every(function(n){return!("object"!=typeof t||null===t||!n in t)&&(t=t[n],!0)})}function lt(t,n,e){for(var i=t,r=n.split("."),a=r.length,u=0;u<a-1;u++){var o=r[u];i[o]||(i[o]={}),i=i[o]}i[r[a-1]]=e}function ft(t,n=1,e=1,i=0,r=0){return Math.sin(t*n*Math.PI*2+i*Math.PI*2)*e+r}function ht(t,n){var e=1/n;return(t%e*2/e-1+1)/2}function dt(t,n){var e=1/n;return Math.abs((t%e*2/e-1-1)/2)}function pt(t,n){return Math.abs(1-(Math.cos(2*Math.PI*t*n)+1)/2)}function mt(t,n){var e=pt(t,n);return e<.5?0:1}function vt(t,n){var e=1/n;return 1-Math.abs(t%e*2/e-1)}function gt(){return Math.random()}function yt(t,n){var e=!1;"#"==t[0]&&(t=t.slice(1),e=!0);var i=parseInt(t,16),r=(i>>16)+n;r=St(r);var a=(i>>8&255)+n;a=St(a);var u=(255&i)+n;return u=St(u),(e?"#":"")+(u|a<<8|r<<16).toString(16)}function St(t){return t>255?255:t<0?0:t}function Vt(t){var n=[];if(!R(t))return n;for(var e=0;e<t.length;e++){var i=t[e];0!==i&&n.push(i)}return n.sort(function(t,n){return n-t}),n}function Ot(t){if(!R(t)||t.length<1)return new a(0,0);for(var n=t[0],e=t[0],i=1;i<t.length;i++){var r=t[i];n=r<n?r:n,e=r>e?r:e}return new a(n,e)}function Tt(t,n){if(M(t)&&M(n)){for(var e in n)if(n.hasOwnProperty(e)&&ct(t,e)){var i=n[e];v("_setConfig: "+e+": "+i);var r=st(t,e);if(r===i){v("_setConfig: value for param "+e+" is identical to previous, ignoring...");continue}lt(t,e,i)}}else p("_setConfig: Invalid config")}function Mt(t,n,e,i,r,a,u){if(M(t)&&T(n)&&!S(i)&&!S(r)){var o=new l(t,n,e,i,a,u);gsap.to(o,{currentValue:i,duration:r,onComplete:o.onComplete,onCompleteParams:[o],onUpdate:o.onUpdate,onUpdateParams:[o]})}else p("_runGsapRampLinear: invalid input params")}function Rt(t,n,e){return t*(1-e)+n*e}const Ft="### ERROR: ",Et="I'm sorry Dave, I'm afraid I can't do that.",Lt="",wt=" ",bt=";",Ct="?",It="&",Nt="#",At="=",Pt="function",qt="object",xt="string",jt="undefined",Dt="[object Array]",Ut="on",Wt="div",kt="span",Ht="</",Gt="t=",Bt=1e3,Jt={DEV:"dev",PROD:"prod"};var _t=Jt.DEV,zt=null;return Array.isArray||(Array.isArray=function(t){return Object.prototype.toString.call(t)===Dt}),String.prototype.splice||(String.prototype.splice=function(t,n,e){return this.slice(0,t)+e+this.slice(t+Math.abs(n))}),String.prototype.endsWith||(String.prototype.endsWith=function(t,n){return(void 0===n||n>this.length)&&(n=this.length),this.substring(n-t.length,n)===t}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(t,n){var e=n>0?0|n:0;return this.substring(e,e+t.length)===t}}),Date.now||(Date.now=function(){return(new Date).getTime()}),r.prototype.add=function(t){this.data.unshift(t)},r.prototype.remove=function(){return this.data.pop()},r.prototype.first=function(){return this.data[0]},r.prototype.last=function(){return this.data[this.data.length-1]},r.prototype.size=function(){return this.data.length},u.prototype.addParam=function(t,n){S(t)?p("Event addParam: invalid name"):this.propertyBag[t]=n},o.prototype.applyTo=function(t,n,e,i){if(t)if(n){e||(e=audioCtx.currentTime),i||(i=t.duration),i=w(i,5);var r=this.at*i,a=this.dt*i,u=this.st*i,o=this.rt*i;r<0&&(r=0),a<0&&(a=0),u<0&&(u=0),o<0&&(o=0);var s=this.sl;s<0?s=0:s>1&&(s=1);var c=r+a+u+o;if(c=w(c,5),c>i){p("Invalid total duration: "+c+" longer than required: "+i);var l=c-i;u>l?u-=l:o>l?o-=l:r>l&&(r-=l)}var f=e;n.gain.setValueAtTime(0,f);var h=f+r;n.gain.linearRampToValueAtTime(1,h);var d=h+a;n.gain.linearRampToValueAtTime(s,d);var m=d+u;n.gain.setValueAtTime(s,m);var v=m+o;n.gain.linearRampToValueAtTime(.001,v)}else p("Grain.applyTo: Invalid gain node");else p("Grain.applyTo: Invalid buffer")},s.prototype.init=function(){if(!(T(this.paramName)&&O(this.endValue)&&O(this.startValue)&&O(this.durationMs)&&O(this.startTimeSec)))return p("RampLinear.init: invalid ramp init values"),void(this.isValid=!1);this.durationSec=b(this.durationMs),this.endTimeSec=this.startTimeSec+this.durationSec,this.isValid=!0},s.prototype.getValue=function(t){if(!this.isValid)return this.isFinished=!0,p("RampLinear.getValue: invalid ramp object"),null;if(this.isFinished)return v("RampLinear.getValue: action is finished, will not update"),null;if(!O(t))return p("RampLinear.getValue: invalid input param: now: "+t),null;if(t<this.startTimeSec)return null;if(t>this.endTimeSec)return v("RampLinear.getValue: finished: "+this.paramName+" returning Value: "+this.endValue),this.isFinished=!0,this.endValue;var n=I(t,this.startTimeSec,this.endTimeSec,this.startValue,this.endValue);return n},c.prototype.init=function(){if(!(T(this.paramName)&&O(this.durationMs)&&O(this.startTimeSec)&&O(this.startValue)))return p("RampSin.init: invalid ramp init values"),void(this.isValid=!1);O(this.amplitude)||(this.amplitude=1),this.amplitude<0&&(this.amplitude=0),O(this.freq)||(this.freq=1),this.freq<=0&&(this.freq=1),this.durationSec=b(this.durationMs),this.endTimeSec=this.startTimeSec+this.durationSec;var t=Math.floor(this.durationSec),n=this.durationSec%t;n>0&&(this.reminderSec=n,this.durationSec=t),this.isValid=!0},c.prototype.getValue=function(t){if(!this.isValid)return this.isFinished=!0,p("RampSin.getValue: invalid ramp object"),null;if(this.isFinished)return v("RampSin.getValue: action is finished, will not update"),null;if(!O(t))return p("RampSin.getValue: invalid input params: now: "+t),null;if(t<this.startTimeSec)return null;if(this.isScheduleReminder=!1,t>this.endTimeSec)return v("RampSin.getValue: finished: "+this.paramName),this.isFinished=!0,O(this.reminderSec)&&(this.isScheduleReminder=!0),null;var n=t-this.startTimeSec,e=ft(n,this.freq,this.amplitude),i=this.startValue+e;return i},l.prototype.onUpdate=function(t){t.parentObj[t.propName]=t.currentValue,F(t.onUpdateCallback)&&t.onUpdateCallback(t)},l.prototype.onComplete=function(t){F(t.onCompleteCallback)&&t.onCompleteCallback(t)},f.prototype.compute=function(t){if(!S(t)&&O(t)){var n=this.freq;switch(S(this.freqMod)||(n+=this.freqMod),this.type){case"SAWTOOTH":return ht(t,n);case"SINE":return pt(t,n);case"SQUARE":return mt(t,n);case"TRIANGLE":return vt(t,n);case"UP":return ht(t,n);case"DOWN":return dt(t,n);case"RANDOM":return gt();default:p("Oscillator.computeValue  invalid Oscillator type: "+this.type)}return null}p("Oscillator.computeValue invalid time: "+t)},f.prototype.setFrequency=function(t){O(t)&&(this.freq=t)},f.prototype.setFrequencyMod=function(t){O(t)&&(this.freqMod=t)},h.prototype.getValue=function(t){if(!O(t))return p("ParamOscillator.getValue: invalid input params: now: "+t),this.minValue;if(t<this.startTime)return this.minValue;var n=t-this.startTime,e=this.oscillator.compute(n);if(S(e)&&(e=0),!S(this.freqLFO)){var i=this.freqLFO.getValue(t);S(i)||this.oscillator.setFrequencyMod(i)}var r=this.minValue;if(!S(this.minValLFO)){var a=this.minValLFO.getValue(t);S(a)||(r+=a)}var u=this.maxValue;if(!S(this.maxValLFO)){var o=this.maxValLFO.getValue(t);S(o)||(u+=o)}var s=I(e,0,1,r,u);return s},h.prototype.setStartTime=function(t){this.startTime=t,S(this.freqLFO)||this.freqLFO.setStartTime(t),S(this.minValLFO)||this.minValLFO.setStartTime(t),S(this.maxValLFO)||this.maxValLFO.setStartTime(t)},h.prototype.setFrequencyLFO=function(t){E(h,t)&&(this.freqLFO=t)},h.prototype.setMinValueLFO=function(t){E(h,t)&&(this.minValLFO=t)},h.prototype.setMaxValueLFO=function(t){E(h,t)&&(this.maxValLFO=t)},{runModeEnum:Jt,runMode:_t,RampLinear:s,RampSin:c,GsapRampLinear:l,Point:a,Oscillator:f,ParamOscillator:h,interpolateLinear:function(t,n,e){return Rt(t,n,e)},arrMinMax:function(t){return Ot(t)},arrSortedNonZeroElem:function(t){return Vt(t)},modColour:function(t,n){return yt(t,n)},cloneObj:function(t){return H(t)},addSuffixIfNotThere:function(t,n){return et(t,n)},createQueue:function(){return new r},createPoint:function(t,n){return new a(t,n)},createEvent:function(t,n){return new u(t,n)},createEnvelope:function(t,n,e,i,r){return new o(t,n,e,i,r)},createRampLinear:function(t,n,e,i,r){return new s(t,n,e,i,r)},createRampSin:function(t,n,e,i,r,a){return new c(t,n,e,i,r,a)},createGsapRampLinear:function(t,n,e,i){return new l(t,n,e,i)},runGsapRampLinear:function(t,n,e,i,r,a,u){Mt(t,n,e,i,r,a,u)},wrapInSpanElement:function(t,n){return it(t,n)},setRunMode:function(t){d(t)},throwException:function(t){ot(t)},contains:function(t,n){return X(t,n)},containsSpace:function(t){return X(t,wt)},startsWith:function(t,n){return K(t,n)},replace:function(t,n,e){return Y(t,n,e)},removeMarkup:function(t){return tt(t)},encodeUrlParams:function(t){return nt(t)},parseJson:function(t){return rt(t)},appendUrlParam:function(t,n,e){return at(t,n,e)},uniquify:function(t){return ut(t)},getWindowWidth:function(){return Q()},getWindowHeight:function(){return Z()},polarToCartesian:function(t,n,e,i){return z(t,n,e,i)},setElementAttributes:function(t,n){J(t,n)},setElementStyleProperty:function(t,n){_(t,n)},addChildToParent:function(t,n){P(t,n)},addFirstChildToParent:function(t,n){q(t,n)},addChildToParentId:function(t,n){x(t,n)},removeElement:function(t){j(t)},removeChildren:function(t){D(t)},cloneElement:function(t,n){return U(t,n)},getElement:function(t){return N(t)},getChildElement:function(t,n){return A(t,n)},initArray:function(t,n){return W(t,n)},init2DArray:function(t,n,e){return k(t,n,e)},isObjectInstanceOf:function(t,n){return E(t,n)},isTouchDevice:function(){return G()},isSafari:function(t){return B(t)},listen:function(t,n,e){L(t,n,e)},getNestedObjectValue:function(t,n){return st(t,n)},hasNestedObjectKey:function(t,n){return ct(t,n)},setNestedObjectValue:function(t,n,e){lt(t,n,e)},oscillator:function(t,n,e,i,r){ft(time,n,e,i,r)},mapRange:function(t,n,e,i,r){return I(t,n,e,i,r)},getRandomFromRange:function(t,n){return Math.random()*(n-t)+t},getRandomIntFromRange:function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t},randomIntFromInterval:function(t,n){return Math.floor(Math.random()*(n-t+1)+t)},randomFloatFromInterval:function(t,n){return Math.random()*(n-t)+t},randomArrayElement:function(t){return t[Math.floor(Math.random()*t.length)]},round:function(t,n){return w(t,n)},msecToSec:function(t){return b(t)},secToMsec:function(t){return C(t)},setConfig:function(t,n){return Tt(t,n)},toCssIdQuery:function(t){return T(t)?Nt+t:t},toStr:function(t){return String(t)},toFloat:function(t){return S(t)?null:parseFloat(t)},toInt:function(t){return S(t)?null:parseInt(t,10)},isNumeric:function(t){return O(t)},isString:function(t){return T(t)},isObject:function(t){return M(t)},isArray:function(t){return R(t)},isFunction:function(t){return F(t)},isEmptyString:function(t){return T(t)&&t===Lt},isEmptyArray:function(t){return R(t)&&!t.length},isNull:function(t){return S(t)},isUndefined:function(t){return y(t)},isNotNull:function(t){return V(t)},logException:function(t,n){g(t,n)},logError:function(t,n){p(t,n)},logObj:function(t){m(t)},log:function(t,n){v(t,n)}}}(console,window,document);