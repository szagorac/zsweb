var zsWsAudio=function(t,i,n){"use strict";function e(t){this.message=t,this.name="ZsWsAudioException"}function o(){if(!t)throw new e("Invalid libraries. Required: zsUtil");try{if(l("initWsAudio: "),!h){var i=n.AudioContext||n.webkitAudioContext||n.mozAudioContext||n.oAudioContext;h=new i,l("initWsAudio:  created audio context")}if("suspended"===h.state)return l("initWsAudio: Context suspended, resuming context : "+h.state),w>=b?void l("initAudio: breached MAX Resume Retry Count, giving up ..."):(h.resume(),1===w&&(h.onstatechange=function(){l("initAudio: on AudioContext state change to: "+h.state)}),w++,void setTimeout(function(){o()},1e3));l("initAudio: AudioContext state: "+h.state),r()}catch(t){v=!1,f("Web Audio API is not supported in this browser")}}function u(){return A(h)?0:h.currentTime}function s(){}function r(t){if(A(i))return l("_initSynth: Can not initialise synth"),void(i=null);A(t)&&(t=h.destination),i.init(h,t)}function c(){A(i)?l("_beep: invalid beep lib"):i.play()}function d(t){A(i)?l("_switchMetro: invalid beep lib"):i.switch(t)}function a(t){A(i)?l("_setFreqenecy: invalid beep lib"):i.setFreqenecy(t)}function f(i){t.logError(i,p)}function l(i){t.log(i,p)}function A(i){return t.isNull(i)}const p="zsAudio: ",b=3;var h=null,v=!1,w=1;return{init:function(){o()},isReady:function(){return v},reset:function(){s()},beep:function(){c()},switchMetro:function(t){d(t)},setBeepFreqenecy:function(t){a(t)},getCurrentTime:function(){return u()}}}(zsUtil,zsBeep,window);