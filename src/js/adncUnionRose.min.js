var zscore=function(e,t,i,n,l,r){"use strict";function a(e){this.message=e,this.name="ZScoreException"}function s(e,t,i){this.value=e,this.isVisible=t,this.sizeMultiplier=i}function o(e,t,i,n,l,r,a,s,o,c,u){this.id=e,this.isSelected=t,this.isActive=i,this.isVisible=n,this.isPlaying=l,this.isPlayingNext=r,this.isPlayed=a,this.clickCount=s,this.arc=o,this.txt=u,this.modFill=c,this.tweens=[]}function c(e){this.id=e,this.tweens=[],this.selectedId=null}function u(){Si("onLoad: "),d()}function d(){if(!(e&&t&&i&&n))throw new a("Invalid libraries. Required: zsUtil, zsNet, zsSvg and zsAudio");e.setRunMode(bi),Si("init: "),sn=e.isTouchDevice(),on=e.isSafari(navigator),Si("init: IsTouch Device: "+sn+" isSafari: "+on),un.fontCanvas=r.createElement("canvas"),un.canvasCtx=un.fontCanvas.getContext("2d"),v(),m(),h(),g(),C(),O(),w(),V(),z(),p()}function f(){x(),P(),T(),y()}function v(){t.init(dn.connectionPreference,dn.appUrlSse,dn.appUrlWebsockets,dn.appUrlHttp,Kt)}function p(){t.getServerState()}function h(){mi(n)?xi("initAudio: invalid zsAudio lib"):n.init(an,5)}function y(){mi(n)?xi("resetAudio: invalid zsAudio lib"):n.reset()}function m(){i.init()}function g(){var t=!1,i=!1,n=!0,l=!1,r=!1,a=!1,u=0,d=new s(Pi,!1,1),f=new o(null,t,i,n,l,r,a,u,null,null,d);un.tiles=e.init2DArray(8,8,f);var v=new c(null);un.tileCircles=e.initArray(8,v)}function x(){for(var e=0;e<un.tiles.length;e++)for(var t=un.tiles[e],i=0;i<t.length;i++)S(un.tiles[e][i])}function S(t){b(t.id),t.isSelected=!1,t.isActive=!1,t.isVisible=!0,t.isPlaying=!1,t.isPlayingNext=!1,t.isPlayed=!1,t.clickCount=0,t.txt.value=Pi,t.txt.isVisible=!1,t.modFill=null;for(var i=0;i<t.tweens.length;i++){var n=t.tweens[i];mi(n)||n.pause(0)}var l=e.getElement(t.id);ke(t,l)}function b(t){var i=dn.tileGroupPrefix+t,n=e.getElement(i);mi(n)||(n.style.opacity="1")}function P(){I(un.centreShape),I(un.innerCircle),I(un.outerCircle)}function I(t){t.isVisible=!1,e.isFunction(t.gsapTimeline.pause)&&t.gsapTimeline.pause(0),e.isFunction(t.gsapTimeline.progress)&&t.gsapTimeline.progress(1,!0),e.isFunction(t.gsapExplodeTimeline.pause)&&t.gsapExplodeTimeline.pause(0)}function T(){zt("centreShape")}function C(){A("centreShape",un.centreShape,dn.circleRadii[1],dn.circleRadii[7],!0),A("innerCircle",un.innerCircle,dn.circleRadii[4],dn.viewMaxPoint,!1),A("outerCircle",un.outerCircle,dn.circleRadii[7],dn.viewMaxPoint,!1)}function A(t,i,n,l,r){var a=e.getElement(t);if(mi(a))xi("Failed to find shape: "+t);else{Si("initShape: shapeId: "+t),qt(a,i.isVisible);var s=dn.shapeTimelineDuration;E(a,i,s,n),s=dn.shapeExplodeDuration,k(a,i,s,l,r)}}function E(t,i,n,l){var r=gsap.timeline({paused:!0,ease:"power4.inOut",onComplete:Oe,onCompleteParams:[i]});i.gsapTimeline=r;var a=dn.centre.x,s=dn.centre.y,o=1,c=t.children;if(!mi(c)){Si("initShapeTimeline: have : "+c.length+" children");for(var u=0;u<c.length;u++){var d=c[u];e.isEmptyString(d.id)&&(d.id="csh"+u);var f=d.getBBox(),v=f.x,p=f.y,h=Fe(a,s,l),y=e.randomIntFromInterval(0,360)*o;o*=-1;var m=e.randomFloatFromInterval(.1,2),g=h.x-v,x=h.y-p,S=d.id,b=gsap.from(e.toCssIdQuery(S),{x:g,y:x,rotation:y,scale:m});r.add(b,0)}r.totalDuration(n)}}function k(t,i,n,l,r){var a=gsap.timeline({paused:!0,ease:"slow",onComplete:Re,onCompleteParams:[i]});i.gsapExplodeTimeline=a;var s=dn.centre.x,o=dn.centre.y,c=t.children;if(!mi(c)){Si("initShapeExplodeTimeline: have : "+c.length+" children");for(var u=0;u<c.length;u++){var d=c[u];e.isEmptyString(d.id)&&(d.id="csh"+u);var f=d.id,v=d.getBBox(),p=v.x,h=v.y,y=v.width,m=v.height,g=null;if(g=r?Fe(s,o,l):Me(s,o,p,h,y,m,l),mi(g))return void xi("initShapeExplodeTimeline: calculated invalid random point");var x=g.x-p,S=g.y-h,b=gsap.to(e.toCssIdQuery(f),{x:x,y:S});a.add(b,0)}a.totalDuration(n)}}function w(){for(var e=dn.circleRadii,t=dn.centre,i=dn.tileAngles,n=dn.tileRotationDuration,l=dn.tileRotationAngle,r=dn.tileRotationYoyo,a=dn.tileRotationReps,s=0;s<e.length;s++){var o=un.tileCircles[s];o.id=dn.tileCircleGroupPrefix+(s+1);var c=Ve(o.id,n,l,r,a);o.tweens.push(c),l*=-1;for(var u=e[s],d=1;d<i.length;d++){var f=i[d-1],v=i[d];L(t.x,t.y,u,f,v,s+1,d)}}}function V(){var t=un.tiles;if(e.isArray(t)){var n=dn.centre,l=n.x,r=n.y,a=dn.circleRadii[dn.circleRadii.length-1]+1,s=dn.outerFrameRadius,o=dn.frameParentId,c=dn.outerFrameId,u=i.createPathElement(c),d=dn.frameStyle;yi(u,d);var f=i.createTorusPath(l,r,a,s);gi(f)&&u.setAttribute("d",f),e.addChildToParentId(o,u)}else xi("createOuterFrame: invalid tiles")}function z(){var t=dn.circleRadii[7]+2,n=dn.centre,l=dn.stageParentId,r=i.createSvgCircle(n.x,n.y,t,l);F(r),e.addChildToParentId(l,r)}function F(t){dn.stageVisibilityStyle.opacity=un.stageAlpha,un.stageAlpha>0?dn.stageVisibilityStyle.visibility=wi:dn.stageVisibilityStyle.visibility=Vi,e.setElementAttributes(t,dn.stageStyle),e.setElementStyleProperty(t,dn.stageVisibilityStyle)}function M(){var t=dn.stageParentId,i="c"+t,n=e.getElement(i);mi(n)||F(n)}function O(){var t=ui();mi(t)||(cn=t,e.listen("resize",l,se),e.listen("orientationchange",l,se),R("Welcome to","<span style='color:blueviolet;'>ZScore</span>","awaiting performance start ...",null,!0))}function R(e,t,i,n,l){if(!mi(cn)){var r=!1;if(!mi(e)){var a=e.trim();un.instructions.l1!=a&&(un.instructions.l1=a,r=!0)}if(!mi(t)){a=t.trim();un.instructions.l2!=a&&(un.instructions.l2=a,r=!0)}if(!mi(i)){a=i.trim();un.instructions.l3!=a&&(un.instructions.l3=a,r=!0)}mi(n)||(un.instructions.bckgCol=n),l?r&&Xt():_t()}}function L(t,n,l,r,a,s,o){var c=dn.tilePrefix+e.toStr(s)+dn.elementIdDelimiter+e.toStr(o),u=i.createPathElement(c);if(mi(u))xi("createSvgTile: Failed to create tile: "+c);else{var d=dn.tileCircleGroupPrefix+e.toStr(s),f=dn.tileGroupPrefix+c,v=i.createGroupElement(f);e.addChildToParentId(d,v),e.listen("mouseenter",v,ee),e.listen("mouseleave",v,te),e.listen("touchend",v,$),e.listen("mouseup",v,K);u=i.createPathElement(c);e.addChildToParentId(f,u);var p=s-1,h=o-1,y=un.tiles[p][h];if(mi(y))xi("createSvgTile: Invalid tile state");else{y.id=c;var m=i.createArc(t,n,l,r,a);y.arc=m,ke(y,u);var g=null;mi(y.txt)||(g=y.txt);var x=null;if(s<=1)x=i.createPieTilePath(t,n,m),D(t,n,l,r,a,o,c,f,g);else{var S=un.tiles[p-1][h],b=S.arc;x=i.createTorusTilePath(m,b),G(t,n,r,a,o,b,m,c,f,g)}gi(x)&&u.setAttribute("d",x)}}}function D(t,n,l,r,a,s,o,c,u){var d=dn.tileTextPathElementPrefix+o,f=i.createPathElement(d),v=dn.tileStylePieTextPathElement,p=r+e.round((a-r)/2,1),h=t,y=n-l,m=null;s>4&&s<9?(m=i.createLinePath(h,y,t,n),v=dn.tileStyleInvertedPieTextPathElement):m=i.createLinePath(t,n,h,y),f.setAttribute("d",m),i.rotateElement(f,p,t,n),u.sizeMultiplier=dn.tileTextSizeMultiplier.pie,U(u,f,d,c,o,v)}function N(e,t,n,l,r,a){var s=dn.selectedPrefix+r+a,o=i.createPathElement(s),c=dn.shapeStyleInvisible,u=i.createLinePath(e,t,n,l);return o.setAttribute("d",u),yi(o,c),o}function G(e,t,n,l,r,a,s,o,c,u){var d=a.rX+(s.rX-a.rX)/2,f=i.createArc(e,t,d,n,l),v=i.invertArc(f);r>2&&r<7&&(v=f);var p=dn.tileTextPathElementPrefix+o,h=i.createArcPath(v),y=i.createPathElement(p);y.setAttribute("d",h);var m=dn.tileStyleTorusTextPathElement;u.sizeMultiplier=dn.tileTextSizeMultiplier.torus,U(u,y,p,c,o,m)}function U(t,n,l,a,o,c){yi(n,dn.tileStyleTextPathDef),e.addFirstChildToParent(Lt(),n);var u=i.createTextElement(dn.tileTextElementPrefix+o);yi(u,dn.tileStyleTextElement);var d=i.createTextPathElement(dn.tileTextElementPathPrefix+o);d.setAttribute("href",e.toCssIdQuery(l)),yi(d,c);var f=i.createTspanElement(dn.tileTextSpanPrefix+o);yi(f,dn.tileStyleTextSpan);var v=r.createTextNode(Pi);f.appendChild(v),d.appendChild(f),u.appendChild(d),e.addChildToParentId(a,u);var p=Pi,h=1;e.isObjectInstanceOf(s,t)||(p=t.value,h=t.sizeMultiplier),j(p,n,f,h)}function j(t,i,n,l){if(!mi(n)&&!mi(i)){var r=n;if(!mi(r)){var a=r.textContent,s=Pi;if(e.isString(t)&&Pi!==t&&(s=t),a!==s){var o=s,c=o.length;if(c<dn.tileTextMinLength)for(var u=dn.tileTextMinLength-c,d=0;d<u;d++)o+=Ti;var f=i.getTotalLength(),v=l,p=e.getElement(dn.testTextElementId);p.textContent=o;var h=10,y=Pi+h+"px";p.setAttribute("font-size",y);var m=p.getComputedTextLength();0===m&&(m=f);var g=f/m;h*=g*v,h=Math.floor(h),y=Pi+h+"px",Si("setTileText: text: "+s+" pathLen: "+f+" testTextLen: "+m+" ratio: "+g+" fontSize: "+y),r.setAttribute("font-size",y),r.textContent=s}}}}function B(e){return mi(e)?null:e.isVisible?dn.shapeStyleVisible:dn.shapeStyleInvisible}function W(e){return e.isVisible?gi(e.txt)&&!e.txt.isVisible?dn.tileStyleTextElementInvisible:dn.tileStyleTextElement:dn.tileStyleTextElementInvisible}function H(e){return e.isVisible?dn.textStyleVisible:dn.textStyleInvisible}function Q(e){return mi(e)?null:e.isPlaying?dn.tileStyleOverlayPlaying:e.isPlayingNext?dn.tileStyleOverlayPlayingNext:e.isSelected?dn.tileStyleOverlaySelected:null}function q(e){return mi(e)?null:e.isPlaying?dn.tileStylePlaying:e.isPlayingNext?dn.tileStylePlayingNext:e.isPlayed?dn.tileStylePlayed:e.isVisible?e.isSelected?dn.tileStyleSelected:e.isActive?dn.tileStyleActive:dn.tileStyleInActive:dn.tileStyleInvisible}function X(){for(var t=e.initArray(un.tiles.length,null),i=0;i<un.tiles.length;i++)for(var n=un.tiles[i],l=0;l<n.length;l++){var r=un.tiles[i][l];if(r.isActive){var a=e.getElement(r.id),s=t[i];mi(s)&&(s=Y(i),t[i]=s),Z(a,r,s)}}}function Y(t){var i=J(t);if(mi(i))return null;var n=e.arrSortNumAsc(i);if(n.length<1)return null;var l=Wi,r=Ui-l.r,a=ji-l.r,s=n[0],o=n[n.length-1];return s===o&&(r=0,a=0),[s,o,r,a]}function Z(t,i,n){if(i.isActive){var l=Bi,r=i.clickCount;if(!(r<0)){var a=_(i,n);l=e.modColour(l,a),i.modFill=l,t.setAttribute(ki,l)}}}function _(t,i){var n=t.clickCount,l=dn.colModPerClick*n;if(!e.isArray(i)||4!=i.length)return l;l=e.mapRange(n,i[0],i[1],i[2],i[3]);return l}function J(t){var i=e.initArray(un.tiles[0].length,0);if(t<0||t>=un.tiles.length)return i;for(var n=un.tiles[t],l=0;l<n.length;l++){var r=un.tiles[t][l],a=r.clickCount;r.isPlayed&&(a=0),i[l]=a}return i}function K(e){Si("onMouseUp:"),sn||le(this)}function $(e){Si("onTouchEnd:"),le(this)}function ee(e){sn||ie(this)}function te(e){sn||ne(this)}function ie(t){if(!e.isObject(t))return null;var i=t,n=t.id;if(he(n)?n=me(n):pe(n)&&(n=ye(n)),!fe(n))return Si("onElementPointerEntry: invalid tile id: "+n),null;i=e.getElement(n);var l=de(n);gi(l)&&l.isActive||yi(i,dn.tileStyleOnPonterEntry)}function ne(t){if(e.isObject(t)){var i=ce(t);if(!mi(i)){var n=ue(i);mi(n)?Si("onPointerLeave: invalid selected tile"):n.isActive||ke(n,i)}}}function le(e){n.isReady()||h();var t=ue(e);mi(t)?Si("processSelectedTile: invalid selected tile"):re(t,e)}function re(i,n){ae(i);var l=i.id,r=e.getElement(l);if(!mi(r)){var a=oe(l),s=un.tileCircles[a.x];if(i.isActive||!i.isVisible){if(!(i.isPlaying||i.isPlayingNext||i.isPlayed)){if(l!==un.selectedTileId&&gi(un.selectedTileId)){var o=de(un.selectedTileId);o.isSelected=!1;var c=e.getElement(un.selectedTileId);ke(o,c),Se(o,c)}i.isSelected=!i.isSelected,i.isSelected&&(un.selectedTileId=l,s.selectedId=l),ke(i,r),Se(i,r);var u={};u[Ai]=i.id,u[Ei]=i.isSelected,t.sendEvent(Ci,u)}}else for(var d=s.tweens,f=0;f<d.length;f++){var v=d[f];ci(v)}}}function ae(t){var i=un.speech;i.isPlaySpeechSynthOnClick&&n.isSpeachReady()&&e.isString(i.speechText)&&et(i.speechText,i.speechVoice,i.speechIsInterrupt,t)}function se(t){if(!e.isObject(this))return null;Xt()}function oe(t){if(mi(t))return null;if(!e)return xi("getTileRowCol: invalid zsUtil"),null;var i=e.replace(t,dn.tilePrefix,Pi),n=i.split(dn.elementIdDelimiter);if(!e.isArray(n)||2!==n.length)return Si("getTileState: invalid tile info: "+i),null;var l=e.toInt(n[0])-1,r=e.toInt(n[1])-1;return e.createPoint(l,r)}function ce(t){if(!e.isObject(t))return null;var i=t.id;return fe(i)?t:(he(i)?i=me(i):pe(i)&&(i=ye(i)),mi(i)?null:e.getElement(i))}function ue(t){if(!e.isObject(t))return null;var i=t.id;return he(i)?i=me(i):pe(i)&&(i=ye(i)),de(i)}function de(e){if(!fe(e))return Si("getTileState: invalid tile id: "+e),null;var t=oe(e);return mi(t)?null:un.tiles[t.x][t.y]}function fe(t){return!(mi(t)||!e.isString(t))&&e.startsWith(t,dn.tilePrefix)}function ve(t){return!(mi(t)||!e.isString(t))&&e.startsWith(t,dn.tileCircleGroupPrefix)}function pe(t){return!(mi(t)||!e.isString(t))&&e.startsWith(t,dn.tileTextElementPrefix)}function he(t){return!(mi(t)||!e.isString(t))&&e.startsWith(t,dn.tileGroupPrefix)}function ye(t){if(mi(t)||!e.isString(t))return!1;var i=t.substring(dn.tileTextElementPrefix.length,t.length);return fe(i)?i:null}function me(t){if(mi(t)||!e.isString(t))return!1;var i=t.substring(dn.tileGroupPrefix.length,t.length);return fe(i)?i:null}function ge(t){if(mi(t)||!e.isString(t))return!1;var i=t.substring(dn.tileCircleGroupPrefix.length,t.length),n=e.toInt(i)-1;if(!(n<0||n>=un.tileCircles.length))return un.tileCircles[n];xi("getCircleGroupIndexFromId: Invalid circle group index: "+n)}function xe(t,i){if(!mi(t)&&!mi(i)){var n=i.id,l=dn.tileTextPathElementPrefix+n,r=e.getElement(l);if(!mi(r)){var a=dn.tileTextElementPrefix+n,o=e.getElement(a);if(!mi(o)){var c=Pi;mi(t)||mi(t.txt)||(c=t.txt);var u=dn.tileTextSpanPrefix+n,d=e.getChildElement(o,e.toCssIdQuery(u));if(!mi(d)){var f=Pi,v=1;e.isObjectInstanceOf(s,c)||(f=c.value,v=c.sizeMultiplier),j(f,r,d,v)}}}}}function Se(t,i){var n=t.id,l=dn.overlayPrefix+n,r=e.getElement(l),a=Q(t);mi(a)?mi(r)||r.remove():(mi(r)&&(r=e.cloneElement(i,l)),yi(r,a),e.addChildToParentId(dn.overlayParentId,r))}function be(t){for(var i=[],n=[],l=null,r=null,a=0;a<un.tileCircles.length;a++){var s=un.tileCircles[a],o=s.selectedId;if(!mi(o)){var c=e.getElement(o);if(mi(c))xi("setSelectedTilesOverlay: can not find tile for selected id: "+o);else{var u=dn.selectedPrefix+o,d=e.getElement(u);if(mi(d)&&(d=e.cloneElement(c,u),yi(d,dn.shapeStyleInvisible),e.addChildToParentId(dn.overlayParentId,d),i.push(d),a>0)){var f=de(o);r=f;var v=Ie(a);mi(l)&&(l=v);var p=Pe(f,v);if(mi(p))continue;var h=e.getElement(p.id);if(!mi(h))continue;e.addChildToParentId(dn.overlayParentId,p),n.push(p)}}}}p=Pe(l,r);if(!mi(p)){h=e.getElement(p.id);mi(h)&&(e.addChildToParentId(dn.overlayParentId,p),n.push(p))}var y=e.getElement(dn.overlayParentId),m=dn.overlayInDuration;mi(t)||(m=t);var g=Te(y,m,dn.outerFrameRadius);g.play();for(a=0;a<i.length;a++){var x=i[a];yi(x,dn.tileStyleSelectedPath)}for(a=0;a<n.length;a++){x=n[a];yi(x,dn.tileStyleConnectorPath)}}function Pe(e,t){if(mi(e)||mi(t))return null;var i=e.arc,n=t.arc;if(mi(i)||mi(n))return null;var l=i.startX,r=i.startY,a=n.endX,s=n.endY;return N(a,s,l,r,e.id,t.id)}function Ie(e){if(e<=0)return null;if(e>=un.tileCircles.length)return un.tileCircles[un.tileCircles.length-1];for(var t=e-1;t>=0;t--){var i=un.tileCircles[t],n=i.selectedId;if(!mi(n))return de(n)}return null}function Te(t,i,n){var l=gsap.timeline({paused:!0,ease:"power4.inOut"}),r=dn.centre.x,a=dn.centre.y,s=1,o=t.children;if(!mi(o)){Si("createSelectedTileTimeline: have : "+o.length+" children");for(var c=0;c<o.length;c++){var u=o[c];e.isEmptyString(u.id)&&(u.id="csh"+c);var d=u.getBBox(),f=d.x,v=d.y,p=d.width,h=d.height,y=Me(r,a,f,v,p,h,n),m=e.randomIntFromInterval(0,360)*s;s*=-1;var g=e.randomIntFromInterval(5,15),x=y.x-f,S=y.y-v,b=u.id,P=gsap.from(e.toCssIdQuery(b),{x:x,y:S,rotation:m,scale:g});l.add(P,0)}return l.totalDuration(i),l}}function Ce(){e.removeChildren(dn.overlayParentId)}function Ae(){Ce();for(var e=0;e<un.tileCircles.length;e++){var t=un.tileCircles[e];t.selectedId=null}}function Ee(e){e.isActive||(e.modFill=null)}function ke(t,i){var n=q(t);yi(i,n),t.isActive&&gi(t.modFill)&&i.setAttribute(ki,t.modFill);var l=dn.tileTextElementPrefix+t.id,r=e.getElement(l);if(!mi(r)){var a=W(t);yi(r,a)}}function we(t,i){var n=B(t),l=e.getElement(i);yi(l,n)}function Ve(t,i,n,l,r){if(!mi(t)){var a=!1;gi(l)&&(a=l);var s=0;return gi(r)&&(s=r),gsap.from(e.toCssIdQuery(t),{duration:i,rotation:n,svgOrigin:Pi+dn.centre.x+Ii+dn.centre.y,onComplete:Wt,onCompleteParams:[t],paused:!0,yoyo:a,repeat:s,ease:"power1.inOut"})}xi("rotate: Invalid objectId: "+t)}function ze(t,i,n){if(!mi(t))return gsap.to(e.toCssIdQuery(t),{duration:i,autoAlpha:n,onComplete:Ht,onCompleteParams:[t],paused:!0});xi("dissolve: Invalid objectId: "+t)}function Fe(t,i,n){if(!e)return xi("getRandomPointInsideCircle: invalid zsUtil"),null;var l=2*Math.PI*Math.random(),r=Math.sqrt(Math.random()),a=n*r*Math.cos(l)+t,s=n*r*Math.sin(l)+i;return e.createPoint(a,s)}function Me(t,i,n,l,r,a,s){var o=n-t,c=l-i,u=Math.sqrt(Math.pow(o,2)+Math.pow(c,2)),d=Math.sqrt(Math.pow(r,2)+Math.pow(a,2)),f=s+2*d,v=f/u,p=o*v,h=c*v,y=e.round(n+p,0),m=e.round(l+h,0);return e.createPoint(y,m)}function Oe(e){Si("onShapeTimelineComplete: progress: "+e.gsapTimeline.progress())}function Re(e){Si("onShapeExplodeTimelineComplete: progress: "+e.gsapExplodeTimeline.progress())}function Le(t){if(e.isArray(t))for(var i=0;i<t.length;i++)Ft(t[i]);else Ft(t)}function De(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)Rt(t,i[l],n);else Rt(t,i,n)}function Ne(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)Ge(t,i[l],n);else Ge(t,i,n)}function Ge(e,t,i){if(!mi(t))switch(Si("runAudio: "+e+Ii+t),t){case"all":Ue(e,i);break;case"player":je(e,i);break;case"granulator":Be(e,i);break;case"speechSynth":Je(e,i)}}function Ue(t,i){if(e.isString(t))switch(t){case"volume":st(i);break;default:return void xi("runPlayer: Unknown actionId: "+t)}}function je(t,i){if(e.isString(t))switch(t){case"play":rt(i);break;case"volume":at(i);break;default:return void xi("runPlayer: Unknown actionId: "+t)}}function Be(t,i){if(e.isString(t))switch(t){case"play":We(i);break;case"stop":He(i);break;case"config":_e(i);break;case"rampLinear":Qe(i);break;case"rampSin":Xe(i);break;case"volume":qe(i);break;default:return void xi("runAudioGranulator: Unknown actionId: "+t)}}function We(e){mi(n)?xi("runAudioPlayGranulator: Invalid zsAudio lib"):n.playGranulator()}function He(e){mi(n)?xi("runAudioPlayGranulator: Invalid zsAudio lib"):n.stopGranulator()}function Qe(t){if(mi(n))xi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,l=null,r=null;mi(t.paramName)||(i=t.paramName),mi(t.endValue)||(l=t.endValue),mi(t.duration)||(r=t.duration),n.setGranulatorRampLinear(i,l,r)}}function qe(t){if(mi(n))xi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,l=null;mi(t.level)||(i=t.level),mi(t.timeMs)||(l=t.timeMs),n.setGranulatorGain(i,l)}}function Xe(t){if(mi(n))xi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,l=null,r=null,a=null;mi(t.paramName)||(i=t.paramName),mi(t.amplitude)||(l=t.amplitude),mi(t.frequency)||(r=t.frequency),mi(t.duration)||(a=t.duration),n.setGranulatorRampSin(i,l,r,a)}}function Ye(){mi(n)?xi("runAudioPlayGranulator: Invalid zsAudio lib"):n.resetGranulator()}function Ze(){Ae()}function _e(t){mi(n)?xi("runAudioPlayGranulator: Invalid zsAudio lib"):e.isObject(t)&&n.setGranulatorConfig(t)}function Je(t,i){if(e.isString(t))switch(t){case"play":$e(i);break;case"stop":tt(i);break;case"config":it(i);break;case"state":nt(i);break;case"rampLinear":lt(i);break;case"volume":Ke(i);break;default:return void xi("runSpeechSynth: Unknown actionId: "+t)}}function Ke(t){if(mi(n))xi("setAudioSpeechVolume: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,l=null;mi(t.level)||(i=t.level),mi(t.timeMs)||(l=t.timeMs),n.setSpeechVolume(i,l)}}function $e(e){if(mi(n))xi("runPlaySpeechSynth: Invalid zsAudio lib");else if(mi(e))xi("runPlaySpeechSynth: Invalid params");else{var t=Pi,i="random",l=!1;mi(e.speechText)||(t=e.speechText),mi(e.speechVoice)||(i=e.speechVoice),mi(e.speechIsInterrupt)||(l=e.speechIsInterrupt);var r=un.playingTileId;mi(r)&&(r=un.selectedTileId);var a=de(r);et(t,i,l,a)}}function et(t,i,l,r){if(!mi(t)){if(e.contains(t,ln)){var a=null;mi(r)||(a=r.txt),t=e.isString(a.value)?e.replace(t,ln,a.value):e.replace(t,ln,Pi)}n.speak(t,i,l)}}function tt(e){mi(n)?xi("runStopSpeechSynth: Invalid zsAudio lib"):n.stopSpeach()}function it(e){mi(n)?xi("updateSpeechCofig: Invalid zsAudio lib"):n.setSpeechConfig(e)}function nt(t){if(e.isObject(t)){var i=un.speech;mi(t.isPlaySpeechSynthOnClick)||(i.isPlaySpeechSynthOnClick=t.isPlaySpeechSynthOnClick),mi(t.speechText)||(i.speechText=t.speechText),mi(t.speechVoice)||(i.speechVoice=t.speechVoice),mi(t.speechIsInterrupt)||(i.speechIsInterrupt=t.speechIsInterrupt)}else xi("setSpeechState: Invalid params")}function lt(t){if(e.isObject(t)){var i=null;mi(t.paramName)||(i=t.paramName);var l=null;mi(t.endValue)||(l=t.endValue);var r=null;mi(t.duration)||(r=t.duration),n.rumpLinearSpeechParam(i,l,r)}else xi("rampLinearSpeechParam: Invalid params")}function rt(t){if(mi(n))xi("runPlayerPlay: Invalid zsAudio lib");else if(e.isObject(t)){var i=0;mi(t.index)||(e.isString(t.index)?i=e.toInt(t.index):e.isNumeric(t.index)&&(i=t.index));var l=null,r=null,a=null;mi(t.startTime)||(l=t.startTime),mi(t.offset)||(r=t.offset),mi(t.duration)||(a=t.duration),n.playAudio(i,l,r,a)}}function at(t){if(mi(n))xi("setAudioMasterVolume: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,l=null;mi(t.level)||(i=t.level),mi(t.timeMs)||(l=t.timeMs),n.setPlayerVolume(i,l)}}function st(t){if(mi(n))xi("setAudioMasterVolume: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,l=null;mi(t.level)||(i=t.level),mi(t.timeMs)||(l=t.timeMs),n.setMasterVolume(i,l)}}function ot(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)ct(t,i[l],n);else ct(t,i,n)}function ct(t,i,n){if(e.isString(t)&&e.isObject(n))switch(Si("rotate: "+i),t){case"start":ut(i,n);break;case"reset":dt(i,n);break;default:return void xi("Unknown rotate actionId: "+t)}}function ut(t,i){var n=0,l=360;mi(i.duration)||(n=i.duration),mi(i.angle)||(l=i.angle);var r=null;if(fe(t)){var a=dn.tileGroupPrefix+t,s=e.getElement(t),o=Qt(s);e.isArray(o)&&o.length>0?r=o[0]:(r=Ve(a,n,l),o.push(r))}else if(ve(t)){var c=ge(t);if(!mi(c)){var u=c.tweens;r=u,e.isArray(u)&&(r=u[0])}}ci(r)}function dt(t,i){if(e.isString(t)){if(fe(t)){var n=e.getElement(t),l=Qt(n);if(e.isArray(l)&&l.length>0){var r=l[0];mi(r)||r.pause(0)}}dn.all===t.toUpperCase()&&un.tiles}}function ft(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)vt(t,i[l],n);else vt(t,i,n)}function vt(t,i,n){if(e.isString(t)&&e.isObject(n))switch(Si("runAlpha: "+i),t){case"start":pt(i,n);break;default:return void xi("Unknown aplha actionId: "+t)}}function pt(t,i){var n=0;mi(i.duration)||(n=i.duration);var l=1;mi(i.value)||(l=i.value);var r=[];if(fe(t)){var a=dn.tileGroupPrefix+t;r.push(ze(a,n,l))}else switch(t){case dn.stageParentId:if(un.stageAlpha===l)return;var s="c"+dn.stageParentId,o=e.getElement(s);if(mi(o))return void xi("Invalid stage circle id: "+s);r.push(ze(s,n,l))}for(var c=0;c<r.length;c++)Si("runAlphaStart: tween: "+t),ci(r[c])}function ht(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)yt(t,i[l],n);else yt(t,i,n)}function yt(t,i,n){if(e.isString(t))switch(Si("reset: actionId: "+t+Ii+i),t){case"all":mt(i,n);break;case"elements":gt(i,n);break;default:return void xi("Unknown reset actionId: "+t)}}function mt(t,i){if(e.isString(t))switch(t){case"tiles":x();break;case"shapes":P();break;case"elements":f();break;case"granulator":Ye();break;case"selectedTiles":Ze();break;default:return void xi("Unknown reset target: "+t)}}function gt(e,t){if(fe(e))S(de(elementId));else switch(e){case"centreShape":return I(un.centreShape);case"innerCircle":return I(un.innerCircle);case"outerCircle":return I(un.outerCircle);case"zoom":return T();default:Si("resetElements: unknown target: "+e)}}function xt(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)St(t,i[l],n);else St(t,i,n)}function St(t,i,n){if(e.isString(t))switch(Si("runActivate: actionId: "+t+Ii+i),t){case"display":bt(i,n);break;default:return void xi("Unknown activate actionId: "+t)}}function bt(e,t){if(!mi(e))switch(Si("runDisplayAction: target: "+e),e){case"selectedTiles":Pt(t)}}function Pt(e){Si("runDisplaySelectedTiles: ");var t=null;mi(e)||mi(e.duration)||(t=e.duration),be(t)}function It(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)Tt(t,i[l],n);else Tt(t,i,n)}function Tt(t,i,n){if(e.isString(t))switch(Si("runDeActivate: actionId: "+t+Ii+i),t){case"display":Ct(i,n);break;default:return void xi("Unknown DeActivate actionId: "+t)}}function Ct(e,t){if(!mi(e))switch(Si("runDeActivateDisplayAction: target: "+e),e){case"overlays":Ce()}}function At(t,i,n){if(e.isArray(i))for(var l=0;l<i.length;l++)Et(t,i[l],n);else Et(t,i,n)}function Et(t,i,n){if(e.isString(t))switch(Si("stop: actionId: "+t+Ii+i),t){case"stop":kt(i,n);break;default:return void xi("Unknown stop actionId: "+t)}}function kt(e,t){if(!mi(e))switch(Si("runStopAction: target: "+e),e){case"all":wt(t);break;case"granulator":He(t);break;case"speechSynth":tt(t)}}function wt(e){Si("runStopAll: "),!mi(n)&&n.isReady()&&(He(e),tt(e))}function Vt(e){mi(e)||(un.stageAlpha=e,M())}function zt(e){Si("zoomLevel: "+e),mi(e)||Ft(e)}function Ft(e){var t=Lt();if(mi(t))Si("zoom: invalid canvas");else{Si("zoomTarget: "+e);var i=Ot(e);gsap.to(t,{attr:{viewBox:i},ease:"power3.out",duration:dn.zoomDuration})}}function Mt(e){R(e.line1,e.line2,e.line3,e.colour,e.isVisible)}function Ot(t){switch(e.isString(t)||(t="default"),t){case"centreSmall":return dn.zoomCentreSmall;case"centreShape":return dn.zoomCentreShape;case"innerCircleSmall":return dn.zoomInnerCircleSmall;case"innerCircle":return dn.zoomInnerCircle;case"outerCircleSmall":return dn.zoomOuterCircleSmall;case"outerCircle":default:return dn.zoomFull}}function Rt(t,i,n){if(e.isString(i)&&e.isString(t)){Si("runTimeline: "+i);var l=null;switch(i){case"centreShape":l=un.centreShape.gsapTimeline;break;case"innerCircle":l=un.innerCircle.gsapTimeline;break;case"outerCircle":l=un.outerCircle.gsapTimeline;break;case"centreShapeExplode":l=un.centreShape.gsapExplodeTimeline;break;case"innerCircleExplode":l=un.innerCircle.gsapExplodeTimeline;break;case"outerCircleExplode":l=un.outerCircle.gsapExplodeTimeline;break;default:return void xi("runTimeline: invalid target: "+i)}switch(t){case"start":Dt(l,n);break;case"stop":Nt(l);break;case"end":Gt(l);break;case"reset":Ut(l);break;case"reverse":Bt(l,n);break;case"resume":jt(l,n);break;default:return void xi("runTimeline: invalid actionId: "+t)}}}function Lt(){return e.getElement("svgCanvas")}function Dt(e,t){if(mi(e))xi("startTimeline: invalid timeline");else{if(!mi(t)&&!mi(t.duration)){var i=t.duration;e.totalDuration(i)}var n=e.progress();n>0?e.restart():e.play()}}function Nt(e){mi(e)?xi("stopTimeline: invalid timeline"):e.pause()}function Gt(e){mi(e)?xi("endTimeline: invalid timeline"):e.pause(1)}function Ut(e){mi(e)?xi("stopTimeline: invalid timeline"):e.pause(0)}function jt(e,t){if(mi(e))xi("resumeTimeline: invalid timeline");else if(!e.isActive()){var i=e.totalDuration();if(!mi(t)&&!mi(t.duration))i=t.duration;var n=e.progress();1==n||0==n?(e.totalDuration(i),e.restart()):e.resume()}}function Bt(e,t){if(mi(e))xi("reverseTimeline: invalid timeline");else{var i=e.progress();if(i<1&&Gt(e),!mi(t)&&!mi(t.duration)){var n=t.duration;e.totalDuration(n)}e.reverse()}}function Wt(t){e.getElement(t)}function Ht(t){var i=e.getElement(t);Si("onAlphaComplete: "+t+"  opacity: "+i.style.opacity+"  visiblility: "+i.style.visibility)}function Qt(t){if(!e.isObject(t))return[];if(fe(t.id)){var i=ue(t);return i.tweens}return gsap.getTweensOf(t)}function qt(e,t){if(!mi(e)){var i="hidden";t&&(i="visible"),yi(e,{visibility:i})}}function Xt(t){if(!mi(cn)){cn.innerHTML=Pi;var i=un.instructions.l1,n=dn.textSpanPrefix+"1",l=un.instructions.l2,r=dn.textSpanPrefix+"2",a=un.instructions.l3,s=dn.textSpanPrefix+"3",o=Pi;t||(t=Pi,e.isEmptyString(i)||(o=Yt(i,o),i=e.wrapInSpanElement(i,n),t+=i),e.isEmptyString(l)||(Si("displayInstructions: processing line2 "+l),o=Yt(l,o),l=e.wrapInSpanElement(l,r),t=e.addSuffixIfNotThere(t,dn.textLineBreak),t+=l),e.isEmptyString(a)||(Si("displayInstructions: processing line3 "+a),o=Yt(a,o),a=e.wrapInSpanElement(a,s),t=e.addSuffixIfNotThere(t,dn.textLineBreak),t+=a));var c=dn.textFontSize,u=di(o,c,cn);cn.style.fontSize=Pi+u+"px",cn.style.fontFamily=dn.textFontFamily,cn.innerHTML=t;var d=e.getChildElement(cn,e.toCssIdQuery(n));mi(d)||(d.style.opacity=0);var f=e.getChildElement(cn,e.toCssIdQuery(r));mi(f)||(f.style.opacity=0);var v=e.getChildElement(cn,e.toCssIdQuery(s));if(mi(v)||(v.style.opacity=0),un.instructions.isVisible=!0,Jt(cn,un.instructions),dn.textSpanIsFadeIn){var p=dn.textSpanFadeTimeSec,h=dn.textSpanFadeStaggerTimeSec;mi(d)||gsap.to(d,{duration:p,autoAlpha:1,ease:"power1.in"}),mi(f)||gsap.to(f,{delay:h,duration:p,autoAlpha:1,ease:"power1.in"}),mi(v)||gsap.to(v,{delay:2*h,duration:p,autoAlpha:1,ease:"power1.in"})}else mi(d)||(d.style.opacity=1),mi(f)||(f.style.opacity=1),mi(v)||(v.style.opacity=1)}}function Yt(t,i){var n=e.removeMarkup(t);return n.length>i.length?n:i}function Zt(e){return dn.textFontType+Ii+e+"px "+dn.textFontFamily}function _t(){mi(cn)||(cn.innerHTML=Pi,un.instructions.isVisible=!1,Jt(cn,un.instructions))}function Jt(t,i){var n=H(i);mi(i.bckgCol)||(n.background=i.bckgCol),e.setElementStyleProperty(t,n)}function Kt(e,t){mi(e)||(t||f(),gi(e.tiles)&&(t?ei(e.tiles):ti(e.tiles)),gi(e.centreShape)&&$t(e.centreShape,un.centreShape,"centreShape"),gi(e.innerCircle)&&$t(e.innerCircle,un.innerCircle,"innerCircle"),gi(e.outerCircle)&&$t(e.outerCircle,un.outerCircle,"outerCircle"),gi(e.actions)&&ni(e.actions),gi(e.zoomLevel)&&zt(e.zoomLevel),gi(e.instructions)&&Mt(e.instructions),gi(e.stageAlpha)&&Vt(e.stageAlpha))}function $t(e,t,i){mi(e)||mi(t)||(t.isVisible=e.isVisible,we(t,i))}function ei(t){if(e.isArray(t)){for(var i=[],n=0;n<t.length;n++){var l=t[n];if(e.isObject(l)){var r=l.state,a=de(r.id),s=l.tileText,o=a.txt;a.isActive;a.isActive=r.isActive,a.isVisible=r.isVisible,a.isPlaying=r.isPlaying,a.isPlayingNext=r.isPlayingNext,a.isPlayed=r.isPlayed,a.clickCount=r.clickCount,o.value=s.value,o.isVisible=s.isVisible,i.push(a)}else xi("processSeverTilesStateDelta: invalid server tile")}ii(i)}}function ti(t){if(e.isArray(t)&&e.isArray(t[0])){for(var i=[],n=0;n<t.length;n++)for(var l=t[n],r=0;r<l.length;r++){var a=t[n][r],s=un.tiles[n][r],o=a.id,c=s.id;if(o===c){var u=a.state,d=a.tileText,f=s.txt;si(s,u)&&oi(f,d)||(s.isActive=u.isActive,s.isVisible=u.isVisible,s.isPlaying=u.isPlaying,s.isPlayingNext=u.isPlayingNext,s.isPlayed=u.isPlayed,s.clickCount=u.clickCount,f.value=d.value,f.isVisible=d.isVisible,i.push(s))}else xi("processSeverTilesState: Server id "+o+"and client id "+c+"not identical")}ii(i)}}function ii(t){Si("Have "+t.length+" tile changes");for(var i=0;i<t.length;i++){var n=t[i],l=e.getElement(n.id);!n.isPlayed&&n.isVisible&&n.isActive||!n.isSelected||(n.isSelected=!1),Ee(n),ke(n,l),xe(n,l),Se(n,l),n.isPlaying&&(un.playingTileId=n.id)}X()}function ni(t){var i=null,n=null,l=[],r={};if(e.isArray(t))for(var a=0;a<t.length;a++){var s=t[a];gi(s.id)&&(i=s.id),gi(s.actionType)&&(n=s.actionType),gi(s.elementIds)&&(l=s.elementIds),gi(s.params)&&(r=s.params),li(i,n,l,r)}}function li(e,t,i,n){if(Si("doAction: "+e+" actionType: "+t),!mi(t)&&!mi(i))switch(t){case"ACTIVATE":xt(e,i,n);break;case"ANIMATION":break;case"DEACTIVATE":It(e,i,n);break;case"VISIBLE":break;case"INVISIBLE":ri(i);break;case"ZOOM":Le(i);break;case"TIMELINE":De(e,i,n);break;case"ROTATE":ot(e,i,n);break;case"ALPHA":ft(e,i,n);break;case"AUDIO":Ne(e,i,n);break;case"RESET":ht(e,i,n);break;case"STOP":At(e,i,n);break;default:xi("doAction: Unknown actionType: "+t)}}function ri(t){if(!mi(t))if(e.isArray(t))for(var i=0;i<t.length;i++)ai(t[i]);else ai(t)}function ai(t){if(!mi(t)){var i=e.getElement(t);if(fe(t)){var n=ue(i);if(mi(n))return;n.isVisible=!1,ke(n,i)}}}function si(e,t){return!mi(e)&&!mi(t)&&(e.id===t.id&&(e.isVisible===t.isVisible&&e.isActive===t.isActive&&e.isPlaying===t.isPlaying&&e.isPlayingNext===t.isPlayingNext&&e.clickCount===t.clickCount&&e.isPlayed===t.isPlayed))}function oi(e,t){return!mi(e)&&!mi(t)&&(e.isVisible===t.isVisible&&e.value===t.value)}function ci(e){if(!mi(e)){var t=e.progress();t>0?e.restart():e.play()}}function ui(){return e.getElement(dn.instructionTxtElementId)}function di(e,t,i){var n=1;l.innerWidth||r.documentElement.clientWidth||r.body.clientWidth;var a=l.innerHeight||r.documentElement.clientHeight||r.body.clientHeight,s=(Zt(n),
i.clientWidth),o=s*dn.textWidthCompressor,c=a*dn.textAreaMax;n=vi(e,t,o),n=fi(s,n,c);var u=dn.textMaxFontSize;return n>u&&(n=u),n}function fi(e,t,i){var n=Zt(t),l=t,r=hi(n,e,i);if(r<0)return l;var a=r*dn.textNumberOfLines,s=i/a;return s<1&&(l*=s),l}function vi(e,t,i){var n=Zt(t),l=pi(n,e),r=l.width;if(r<=0||r>i||Math.abs(i-r)<1)return t;var a=i/r,s=t*a;return vi(e,s,i)}function pi(e,t){var i=un.fontCanvas,n=un.canvasCtx;return n.fillRect(0,0,i.width,i.height),n.textBaseline="top",n.fillStyle=zi,n.font=e,n.measureText(t)}function hi(e,t,i){var n=un.fontCanvas,l=un.canvasCtx;n.width=t,n.height=i,l.fillRect(0,0,n.width,n.height),l.textBaseline="top",l.fillStyle=zi,l.font=e;var r="gM";l.fillText(r,0,0);for(var a=l.getImageData(0,0,n.width,n.height).data,s=-1,o=-1,c=0;c<n.height;c++)for(var u=0;u<n.width;u++){var d=4*(c*n.width+u);if(0!==a[d]){-1===s&&(s=c);break}if(u===n.width-1&&-1!==s){o=c,c=n.height;break}}var f=(o-s)*dn.textHeightCompressor;return f}function yi(t,i){e.setElementAttributes(t,i)}function mi(t){return e.isNull(t)}function gi(t){return e.isNotNull(t)}function xi(t){e.logError(t)}function Si(t){e.log(t)}const bi="DEV",Pi="",Ii=" ",Ti="m",Ci="ELEMENT_SELECTED",Ai="elementId",Ei="selected",ki="fill",wi="visible",Vi="hidden",zi="#FFFFFF",Fi="#000000",Mi="#CCFFCC",Oi="#C0C0C0",Ri="#2F4F4F",Li="#696969",Di="#4B4B4B",Ni="#FFA500",Gi="#DC143C",Ui=204,ji=0,Bi="#666666",Wi={r:102,g:102,b:102},Hi=Li,Qi=Di,qi=Li,Xi=zi,Yi=Ri,Zi=Ri,_i=zi,Ji=zi,Ki=Fi,$i=Gi,en=Mi,tn=Ni,nn=Oi,ln="@TILE_TEXT@",rn="Arial";var an=["/audio/violin-tuning.mp3","/audio/UnionRoseE2m.mp3","/audio/UnionRoseE3.mp3","/audio/UnionRoseE4.mp3","/audio/UnionRoseE5.mp3","/audio/UnionRose-m1.mp3"],sn=null,on=null,cn=null,un={tiles:[],tileCircles:[],centreShape:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},innerCircle:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},outerCircle:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},instructions:{isVisible:!1,l1:Pi,l2:Pi,l3:Pi,bckgCol:"rgba(225, 225, 225, 0.85)"},selectedTileId:null,playingTileId:null,fontCanvas:null,canvasCtx:null,speech:{isPlaySpeechSynthOnClick:!1,speechText:"I, I clicked on "+ln,speechVoice:"random",speechIsInterrupt:!0},stageAlpha:1},dn={connectionPreference:"ws,sse,poll",centre:{x:762,y:762},circleRadii:[55,92,125,194,291,401,552,750],outerFrameRadius:2e3,lineEnd:{x:762,y:12},lineLen:750,lineAngles:[0,45,90,135,180,225,270,315],tileAngles:[0,45,90,135,180,225,270,315,360],viewMinPoint:0,viewMaxPoint:1525,zoomCentreSmall:"700 700 124 124",zoomCentreShape:"660 660 204 204",zoomInnerCircleSmall:"540 540 444 444",zoomInnerCircle:"471 471 582 582",zoomOuterCircleSmall:"350 350 824 824",zoomOuterCircle:"471 471 582 582",zoomFull:"0 0 1525 1525",circlePrefix:"c",linePrefix:"l",tilePrefix:"t",overlayPrefix:"o",selectedPrefix:"s",tileRotationDuration:2,tileRotationAngle:45,tileRotationYoyo:!1,tileRotationReps:0,tileCircleGroupPrefix:"ctg",tileGroupPrefix:"g",tileTextElementPrefix:"x",tileTextPathElementPrefix:"px",tileTextElementPathPrefix:"hx",tileTextSpanPrefix:"sp",stageParentId:"stage",overlayParentId:"overlay",stageId:"stageCircle",frameParentId:"frame",outerFrameId:"outerFrame",elementIdDelimiter:"-",svgArcs:[null,null,null,null,null,null,null,null],gridParentId:"grid",gridStyle:{fill:"none",stroke:"aqua","stroke-width":"2px"},stageStyle:{fill:Ki,"stroke-width":"0px","stroke-opacity":"0","pointer-events":"none"},stageVisibilityStyle:{opacity:un.stageAlpha,visibility:"visible"},tilesParentId:"tiles",frameStyle:{fill:Ji,"stroke-width":"0px","stroke-opacity":"0",visibility:"visible",opacity:1},tileStyleOverlayPlayingNext:{fill:"none",stroke:tn,"stroke-width":"1px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleOverlayPlaying:{fill:"none",stroke:en,"stroke-width":"1px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleOverlaySelected:{fill:"none",stroke:$i,"stroke-width":"2px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleSelectedPath:{fill:"none",stroke:$i,"stroke-width":"7px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleConnectorPath:{fill:"none",stroke:$i,"stroke-width":"2px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleVisible:{fill:qi,stroke:nn,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleActive:{fill:Hi,stroke:nn,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleInActive:{fill:Xi,stroke:nn,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleInvisible:{visibility:"hidden"},tileStyleOnPonterEntry:{fill:Yi},tileStyleSelected:{fill:Zi,stroke:nn,"stroke-width":"2px",visibility:"visible",opacity:1},tileStylePlayed:{visibility:"hidden"},tileStylePlaying:{fill:Qi,stroke:nn,"stroke-width":"1px",visibility:"visible",opacity:1},tileStylePlayingNext:{stroke:nn,"stroke-width":"2px",visibility:"visible",opacity:1},tileStyleTextPathDef:{fill:"none",stroke:"none"},tileStyleTextElement:{visibility:"visible",opacity:1},tileStyleTextElementInvisible:{visibility:"hidden"},tileStyleTorusTextPathElement:{startOffset:"50%","text-anchor":"middle",fill:_i,stroke:"none"},tileStylePieTextPathElement:{startOffset:"90%","text-anchor":"end",fill:_i,stroke:"none"},tileStyleInvertedPieTextPathElement:{startOffset:"10%","text-anchor":"start",fill:_i,stroke:"none"},tileStyleTextSpan:{"font-family":rn,"dominant-baseline":"middle"},tileTextMinLength:5,tileTextSizeMultiplier:{torus:.8,pie:.7},shapeStyleInvisible:{visibility:"hidden"},shapeStyleVisible:{visibility:"visible"},shapeTimelineDuration:60,shapeExplodeDuration:5,instructionTxtElementId:"instructionTxt",textLineBreak:"<br/>",textStyleInvisible:{visibility:"hidden"},textStyleVisible:{visibility:"visible"},textFontFamily:"Arial",textFontType:"normal",textFontSize:50,textMaxFontSize:70,textMaxLineLen:30,textHeightCompressor:1.1,textWidthCompressor:.9,textAreaMax:.4,textNumberOfLines:3,textSpanPrefix:"is",textSpanIsFadeIn:!0,textSpanFadeTimeSec:1,textSpanFadeStaggerTimeSec:.5,appUrlHttp:"/htp",appUrlSse:"/sse",appUrlWebsockets:"/wsoc",zoomDuration:3,all:"ALL",testTextElementId:"testTxt",colModPerClick:-20,maxColModPerClick:-150,overlayInDuration:12};return{load:function(){u()},createSvgTile:L,initTiles:g,setTileText:j}}(zsUtil,zsNet,zsSvg,zsAudio,window,document);