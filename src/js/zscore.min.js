var zscore=function(e,t,i,n,r,l){"use strict";function a(e){this.message=e,this.name="ZScoreException"}function s(e,t,i){this.value=e,this.isVisible=t,this.sizeMultiplier=i}function o(e,t,i,n,r,l,a,s,o,c){this.id=e,this.isSelected=t,this.isActive=i,this.isVisible=n,this.isPlaying=r,this.isPlayingNext=l,this.isPlayed=a,this.clickCount=s,this.arc=o,this.txt=c,this.tweens=[]}function c(e){this.id=e,this.tweens=[],this.selectedId=null}function u(){hi("onLoad: "),d()}function d(){if(!(e&&t&&i&&n))throw new a("Invalid libraries. Required: zsUtil, zsNet, zsSvg and zsAudio");e.setRunMode(yi),hi("init: "),_i=e.isTouchDevice(),Ji=e.isSafari(navigator),hi("init: IsTouch Device: "+_i+" isSafari: "+Ji),$i.fontCanvas=l.createElement("canvas"),$i.canvasCtx=$i.fontCanvas.getContext("2d"),v(),g(),h(),m(),C(),O(),w(),V(),F(),p()}function f(){x(),P(),I(),y()}function v(){t.init(en.connectionPreference,en.appUrlSse,en.appUrlWebsockets,en.appUrlHttp,qt,Xt)}function p(){t.getServerState()}function h(){fi(n)?pi("initAudio: invalid zsAudio lib"):n.init(Yi,5)}function y(){fi(n)?pi("resetAudio: invalid zsAudio lib"):n.reset()}function g(){i.init()}function m(){var t=!1,i=!1,n=!0,r=!1,l=!1,a=!1,u=0,d=new s(gi,!1,1),f=new o(null,t,i,n,r,l,a,u,null,d);$i.tiles=e.init2DArray(8,8,f);var v=new c(null);$i.tileCircles=e.initArray(8,v)}function x(){for(var e=0;e<$i.tiles.length;e++)for(var t=$i.tiles[e],i=0;i<t.length;i++)S($i.tiles[e][i])}function S(t){b(t.id),t.isSelected=!1,t.isActive=!1,t.isVisible=!0,t.isPlaying=!1,t.isPlayingNext=!1,t.isPlayed=!1,t.clickCount=0,t.txt.value=gi,t.txt.isVisible=!1;for(var i=0;i<t.tweens.length;i++){var n=t.tweens[i];fi(n)||n.pause(0)}var r=e.getElement(t.id);Ee(t,r)}function b(t){var i=en.tileGroupPrefix+t,n=e.getElement(i);fi(n)||(n.style.opacity="1")}function P(){T($i.centreShape),T($i.innerCircle),T($i.outerCircle)}function T(t){t.isVisible=!1,e.isFunction(t.gsapTimeline.pause)&&t.gsapTimeline.pause(0),e.isFunction(t.gsapTimeline.progress)&&t.gsapTimeline.progress(1,!0),e.isFunction(t.gsapExplodeTimeline.pause)&&t.gsapExplodeTimeline.pause(0)}function I(){Ct("centreShape")}function C(){E("centreShape",$i.centreShape,en.circleRadii[1],en.circleRadii[7],!0),E("innerCircle",$i.innerCircle,en.circleRadii[4],en.viewMaxPoint,!1),E("outerCircle",$i.outerCircle,en.circleRadii[7],en.viewMaxPoint,!1)}function E(t,i,n,r,l){var a=e.getElement(t);if(fi(a))pi("Failed to find shape: "+t);else{hi("initShape: shapeId: "+t),Ut(a,i.isVisible);var s=en.shapeTimelineDuration;k(a,i,s,n),s=en.shapeExplodeDuration,A(a,i,s,r,l)}}function k(t,i,n,r){var l=gsap.timeline({paused:!0,ease:"power4.inOut",onComplete:Me,onCompleteParams:[i]});i.gsapTimeline=l;var a=en.centre.x,s=en.centre.y,o=1,c=t.children;if(!fi(c)){hi("initShapeTimeline: have : "+c.length+" children");for(var u=0;u<c.length;u++){var d=c[u];e.isEmptyString(d.id)&&(d.id="csh"+u);var f=d.getBBox(),v=f.x,p=f.y,h=Ve(a,s,r),y=e.randomIntFromInterval(0,360)*o;o*=-1;var g=e.randomFloatFromInterval(.1,2),m=h.x-v,x=h.y-p,S=d.id,b=gsap.from(e.toCssIdQuery(S),{x:m,y:x,rotation:y,scale:g});l.add(b,0)}l.totalDuration(n)}}function A(t,i,n,r,l){var a=gsap.timeline({paused:!0,ease:"slow",onComplete:Oe,onCompleteParams:[i]});i.gsapExplodeTimeline=a;var s=en.centre.x,o=en.centre.y,c=t.children;if(!fi(c)){hi("initShapeExplodeTimeline: have : "+c.length+" children");for(var u=0;u<c.length;u++){var d=c[u];e.isEmptyString(d.id)&&(d.id="csh"+u);var f=d.id,v=d.getBBox(),p=v.x,h=v.y,y=v.width,g=v.height,m=null;if(m=l?Ve(s,o,r):Fe(s,o,p,h,y,g,r),fi(m))return void pi("initShapeExplodeTimeline: calculated invalid random point");var x=m.x-p,S=m.y-h,b=gsap.to(e.toCssIdQuery(f),{x:x,y:S});a.add(b,0)}a.totalDuration(n)}}function w(){for(var e=en.circleRadii,t=en.centre,i=en.tileAngles,n=10,r=360,l=0;l<e.length;l++){var a=$i.tileCircles[l];a.id=en.tileCircleGroupPrefix+(l+1);var s=Ae(a.id,n,r);a.tweens.push(s),r*=-1;for(var o=e[l],c=1;c<i.length;c++){var u=i[c-1],d=i[c];L(t.x,t.y,o,u,d,l+1,c)}}}function V(){var t=$i.tiles;if(e.isArray(t)){var n=en.centre,r=n.x,l=n.y,a=en.circleRadii[en.circleRadii.length-1]+1,s=en.outerFrameRadius,o=en.frameParentId,c=en.outerFrameId,u=i.createPathElement(c),d=en.frameStyle;di(u,d);var f=i.createTorusPath(r,l,a,s);vi(f)&&u.setAttribute("d",f),e.addChildToParentId(o,u)}else pi("createOuterFrame: invalid tiles")}function F(){var t=en.circleRadii[7]+2,n=en.centre,r=en.stageParentId,l=i.createSvgCircle(n.x,n.y,t,r);en.stageStyle.opacity=$i.stageAlpha,e.setElementAttributes(l,en.stageStyle),e.addChildToParentId(r,l)}function M(){var t=en.stageParentId,i="c"+t,n=e.getElement(i);fi(n)||(en.stageStyle.opacity=$i.stageAlpha,e.setElementAttributes(n,en.stageStyle))}function O(){var t=li();fi(t)||(Ki=t,e.listen("resize",r,ae),e.listen("orientationchange",r,ae),z("Welcome to","<span style='color:blueviolet;'>ZScore</span>","awaiting performance start ...",null,!0))}function z(e,t,i,n,r){if(!fi(Ki)){var l=!1;if(!fi(e)){var a=e.trim();$i.instructions.l1!=a&&($i.instructions.l1=a,l=!0)}if(!fi(t)){a=t.trim();$i.instructions.l2!=a&&($i.instructions.l2=a,l=!0)}if(!fi(i)){a=i.trim();$i.instructions.l3!=a&&($i.instructions.l3=a,l=!0)}fi(n)||($i.instructions.bckgCol=n),r?l&&jt():Ht()}}function L(t,n,r,l,a,s,o){var c=en.tilePrefix+e.toStr(s)+en.elementIdDelimiter+e.toStr(o),u=i.createPathElement(c);if(fi(u))pi("createSvgTile: Failed to create tile: "+c);else{var d=en.tileCircleGroupPrefix+e.toStr(s),f=en.tileGroupPrefix+c,v=i.createGroupElement(f);e.addChildToParentId(d,v),e.listen("mouseenter",v,$),e.listen("mouseleave",v,ee),e.listen("touchend",v,K),e.listen("mouseup",v,J);u=i.createPathElement(c);e.addChildToParentId(f,u);var p=s-1,h=o-1,y=$i.tiles[p][h];if(fi(y))pi("createSvgTile: Invalid tile state");else{y.id=c;var g=i.createArc(t,n,r,l,a);y.arc=g,Ee(y,u);var m=null;fi(y.txt)||(m=y.txt);var x=null;if(s<=1)x=i.createPieTilePath(t,n,g),N(t,n,r,l,a,o,c,f,m);else{var S=$i.tiles[p-1][h],b=S.arc;x=i.createTorusTilePath(g,b),G(t,n,l,a,o,b,g,c,f,m)}vi(x)&&u.setAttribute("d",x)}}}function N(t,n,r,l,a,s,o,c,u){var d=en.tileTextPathElementPrefix+o,f=i.createPathElement(d),v=en.tileStylePieTextPathElement,p=l+e.round((a-l)/2,1),h=t,y=n-r,g=null;s>4&&s<9?(g=i.createLinePath(h,y,t,n),v=en.tileStyleInvertedPieTextPathElement):g=i.createLinePath(t,n,h,y),f.setAttribute("d",g),i.rotateElement(f,p,t,n),u.sizeMultiplier=en.tileTextSizeMultiplier.pie,R(u,f,d,c,o,v)}function D(e,t,n,r,l,a){var s=en.selectedPrefix+l+a,o=i.createPathElement(s),c=en.shapeStyleInvisible,u=i.createLinePath(e,t,n,r);return o.setAttribute("d",u),di(o,c),o}function G(e,t,n,r,l,a,s,o,c,u){var d=a.rX+(s.rX-a.rX)/2,f=i.createArc(e,t,d,n,r),v=i.invertArc(f);l>2&&l<7&&(v=f);var p=en.tileTextPathElementPrefix+o,h=i.createArcPath(v),y=i.createPathElement(p);y.setAttribute("d",h);var g=en.tileStyleTorusTextPathElement;u.sizeMultiplier=en.tileTextSizeMultiplier.torus,R(u,y,p,c,o,g)}function R(t,n,r,a,o,c){di(n,en.tileStyleTextPathDef),e.addFirstChildToParent(Vt(),n);var u=i.createTextElement(en.tileTextElementPrefix+o);di(u,en.tileStyleTextElement);var d=i.createTextPathElement(en.tileTextElementPathPrefix+o);d.setAttribute("href",e.toCssIdQuery(r)),di(d,c);var f=i.createTspanElement(en.tileTextSpanPrefix+o);di(f,en.tileStyleTextSpan);var v=l.createTextNode(gi);f.appendChild(v),d.appendChild(f),u.appendChild(d),e.addChildToParentId(a,u);var p=gi,h=1;e.isObjectInstanceOf(s,t)||(p=t.value,h=t.sizeMultiplier),U(p,n,f,h)}function U(t,i,n,r){if(!fi(n)&&!fi(i)){var l=n;if(!fi(l)){var a=l.textContent,s=gi;if(e.isString(t)&&gi!==t&&(s=t),a!==s){var o=s,c=o.length;if(c<en.tileTextMinLength)for(var u=en.tileTextMinLength-c,d=0;d<u;d++)o+=xi;var f=i.getTotalLength(),v=r,p=e.getElement(en.testTextElementId);p.textContent=o;var h=10,y=gi+h+"px";p.setAttribute("font-size",y);var g=p.getComputedTextLength();0===g&&(g=f);var m=f/g;h*=m*v,h=Math.floor(h),y=gi+h+"px",hi("setTileText: text: "+s+" pathLen: "+f+" testTextLen: "+g+" ratio: "+m+" fontSize: "+y),l.setAttribute("font-size",y),l.textContent=s}}}}function j(e){return fi(e)?null:e.isVisible?en.shapeStyleVisible:en.shapeStyleInvisible}function B(e){return e.isVisible?vi(e.txt)&&!e.txt.isVisible?en.tileStyleTextElementInvisible:en.tileStyleTextElement:en.tileStyleTextElementInvisible}function W(e){return e.isVisible?en.textStyleVisible:en.textStyleInvisible}function H(e){return fi(e)?null:e.isPlaying?en.tileStyleOverlayPlaying:e.isPlayingNext?en.tileStyleOverlayPlayingNext:e.isSelected?en.tileStyleOverlaySelected:null}function Q(e){return fi(e)?null:e.isPlaying?en.tileStylePlaying:e.isPlayingNext?en.tileStylePlayingNext:e.isPlayed?en.tileStylePlayed:e.isVisible?e.isSelected?en.tileStyleSelected:e.isActive?en.tileStyleActive:en.tileStyleInActive:en.tileStyleInvisible}function q(){for(var t=e.initArray($i.tiles.length,null),i=0;i<$i.tiles.length;i++)for(var n=$i.tiles[i],r=0;r<n.length;r++){var l=$i.tiles[i][r];if(l.isActive){var a=e.getElement(l.id),s=t[i];fi(s)&&(s=X(i),t[i]=s),Z(a,l,s)}}}function X(t){var i=_(t);if(fi(i))return null;var n=e.arrSortedNonZeroElem(i);return n.length<1?null:[0,n[0],0,en.maxColModPerClick]}function Z(t,i,n){if(i.isActive){var r=Oi,l=i.clickCount;if(!(l<=0)){var a=Y(i,n);r=e.modColour(r,a),t.setAttribute(Ti,r)}}}function Y(t,i){var n=t.clickCount,r=en.colModPerClick*n;if(!e.isArray(i)||4!=i.length)return r;r=e.mapRange(n,i[0],i[1],i[2],i[3]);return r}function _(t){var i=e.initArray($i.tiles[0].length,0);if(t<0||t>=$i.tiles.length)return i;for(var n=$i.tiles[t],r=0;r<n.length;r++){var l=$i.tiles[t][r],a=l.clickCount;l.isPlayed&&(a=0),i[r]=a}return i}function J(e){hi("onMouseUp:"),_i||ne(this)}function K(e){hi("onTouchEnd:"),ne(this)}function $(e){_i||te(this)}function ee(e){_i||ie(this)}function te(t){if(!e.isObject(t))return null;var i=t,n=t.id;if(pe(n)?(n=ye(n),i=e.getElement(n)):ve(n)&&(n=he(n),i=e.getElement(n)),!de(n))return hi("getTileState: invalid tile id: "+n),null;di(i,en.tileStyleOnPonterEntry)}function ie(t){if(e.isObject(t)){var i=oe(t);if(!fi(i)){var n=ce(i);fi(n)?hi("onPointerLeave: invalid selected tile"):Ee(n,i)}}}function ne(e){n.isReady()||h();var t=ce(e);fi(t)?hi("processSelectedTile: invalid selected tile"):re(t,e)}function re(i,n){le(i);var r=i.id,l=e.getElement(r);if(!fi(l)){var a=se(r),s=$i.tileCircles[a.x];if(i.isActive||!i.isVisible){if(!(i.isPlaying||i.isPlayingNext||i.isPlayed)){if(r!==$i.selectedTileId&&vi($i.selectedTileId)){var o=ue($i.selectedTileId);o.isSelected=!1;var c=e.getElement($i.selectedTileId);Ee(o,c),xe(o,c)}i.isSelected=!i.isSelected,i.isSelected&&($i.selectedTileId=r,s.selectedId=r),Ee(i,l),xe(i,l);var u={};u[bi]=i.id,u[Pi]=i.isSelected,t.sendEvent(Si,u)}}else for(var d=s.tweens,f=0;f<d.length;f++){var v=d[f];ri(v)}}}function le(t){var i=$i.speech;i.isPlaySpeechSynthOnClick&&n.isSpeachReady()&&e.isString(i.speechText)&&_e(i.speechText,i.speechVoice,i.speechIsInterrupt,t)}function ae(t){if(!e.isObject(this))return null;jt()}function se(t){if(fi(t))return null;if(!e)return pi("getTileRowCol: invalid zsUtil"),null;var i=e.replace(t,en.tilePrefix,gi),n=i.split(en.elementIdDelimiter);if(!e.isArray(n)||2!==n.length)return hi("getTileState: invalid tile info: "+i),null;var r=e.toInt(n[0])-1,l=e.toInt(n[1])-1;return e.createPoint(r,l)}function oe(t){if(!e.isObject(t))return null;var i=t.id;return de(i)?t:(pe(i)?i=ye(i):ve(i)&&(i=he(i)),fi(i)?null:e.getElement(i))}function ce(t){if(!e.isObject(t))return null;var i=t.id;return pe(i)?i=ye(i):ve(i)&&(i=he(i)),ue(i)}function ue(e){if(!de(e))return hi("getTileState: invalid tile id: "+e),null;var t=se(e);return fi(t)?null:$i.tiles[t.x][t.y]}function de(t){return!(fi(t)||!e.isString(t))&&e.startsWith(t,en.tilePrefix)}function fe(t){return!(fi(t)||!e.isString(t))&&e.startsWith(t,en.tileCircleGroupPrefix)}function ve(t){return!(fi(t)||!e.isString(t))&&e.startsWith(t,en.tileTextElementPrefix)}function pe(t){return!(fi(t)||!e.isString(t))&&e.startsWith(t,en.tileGroupPrefix)}function he(t){if(fi(t)||!e.isString(t))return!1;var i=t.substring(en.tileTextElementPrefix.length,t.length);return de(i)?i:null}function ye(t){if(fi(t)||!e.isString(t))return!1;var i=t.substring(en.tileGroupPrefix.length,t.length);return de(i)?i:null}function ge(t){if(fi(t)||!e.isString(t))return!1;var i=t.substring(en.tileCircleGroupPrefix.length,t.length),n=e.toInt(i)-1;if(!(n<0||n>=$i.tileCircles.length))return $i.tileCircles[n];pi("getCircleGroupIndexFromId: Invalid circle group index: "+n)}function me(t,i){if(!fi(t)&&!fi(i)){var n=i.id,r=en.tileTextPathElementPrefix+n,l=e.getElement(r);if(!fi(l)){var a=en.tileTextElementPrefix+n,o=e.getElement(a);if(!fi(o)){var c=gi;fi(t)||fi(t.txt)||(c=t.txt);var u=en.tileTextSpanPrefix+n,d=e.getChildElement(o,e.toCssIdQuery(u));if(!fi(d)){var f=gi,v=1;e.isObjectInstanceOf(s,c)||(f=c.value,v=c.sizeMultiplier),U(f,l,d,v)}}}}}function xe(t,i){var n=t.id,r=en.overlayPrefix+n,l=e.getElement(r),a=H(t);fi(a)?fi(l)||l.remove():(fi(l)&&(l=e.cloneElement(i,r)),di(l,a),e.addChildToParentId(en.overlayParentId,l))}function Se(t){for(var i=[],n=[],r=null,l=null,a=0;a<$i.tileCircles.length;a++){var s=$i.tileCircles[a],o=s.selectedId;if(!fi(o)){var c=e.getElement(o);if(fi(c))pi("setSelectedTilesOverlay: can not find tile for selected id: "+o);else{var u=en.selectedPrefix+o,d=e.getElement(u);if(fi(d)&&(d=e.cloneElement(c,u),di(d,en.shapeStyleInvisible),e.addChildToParentId(en.overlayParentId,d),i.push(d),a>0)){var f=ue(o);l=f;var v=Pe(a);fi(r)&&(r=v);var p=be(f,v);if(fi(p))continue;var h=e.getElement(p.id);if(!fi(h))continue;e.addChildToParentId(en.overlayParentId,p),n.push(p)}}}}p=be(r,l),h=e.getElement(p.id);fi(h)&&(e.addChildToParentId(en.overlayParentId,p),n.push(p));var y=e.getElement(en.overlayParentId),g=en.overlayInDuration;fi(t)||(g=t);var m=Te(y,g,en.outerFrameRadius);m.play();for(a=0;a<i.length;a++){var x=i[a];di(x,en.tileStyleSelectedPath)}for(a=0;a<n.length;a++){x=n[a];di(x,en.tileStyleConnectorPath)}}function be(e,t){if(fi(e)||fi(t))return null;var i=e.arc,n=t.arc;if(fi(i)||fi(n))return null;var r=i.startX,l=i.startY,a=n.endX,s=n.endY;return D(a,s,r,l,e.id,t.id)}function Pe(e){if(e<=0)return null;if(e>=$i.tileCircles.length)return $i.tileCircles[$i.tileCircles.length-1];for(var t=e-1;t>=0;t--){var i=$i.tileCircles[t],n=i.selectedId;if(!fi(n))return ue(n)}return null}function Te(t,i,n){var r=gsap.timeline({paused:!0,ease:"power4.inOut"}),l=en.centre.x,a=en.centre.y,s=1,o=t.children;if(!fi(o)){hi("createSelectedTileTimeline: have : "+o.length+" children");for(var c=0;c<o.length;c++){var u=o[c];e.isEmptyString(u.id)&&(u.id="csh"+c);var d=u.getBBox(),f=d.x,v=d.y,p=d.width,h=d.height,y=Fe(l,a,f,v,p,h,n),g=e.randomIntFromInterval(0,360)*s;s*=-1;var m=e.randomFloatFromInterval(.1,2),x=y.x-f,S=y.y-v,b=u.id,P=gsap.from(e.toCssIdQuery(b),{x:x,y:S,rotation:g,scale:m});r.add(P,0)}return r.totalDuration(i),r}}function Ie(){e.removeChildren(en.overlayParentId)}function Ce(){Ie();for(var e=0;e<$i.tileCircles.length;e++){var t=$i.tileCircles[e];t.selectedId=null}}function Ee(t,i){var n=Q(t);di(i,n);var r=en.tileTextElementPrefix+t.id,l=e.getElement(r);if(!fi(l)){var a=B(t);di(l,a)}}function ke(t,i){var n=j(t),r=e.getElement(i);di(r,n)}function Ae(t,i,n){if(!fi(t))return gsap.to(e.toCssIdQuery(t),{duration:i,rotation:n,svgOrigin:gi+en.centre.x+mi+en.centre.y,onComplete:Dt,onCompleteParams:[t],paused:!0});pi("rotate: Invalid objectId: "+t)}function we(t,i,n){if(!fi(t))return gsap.to(e.toCssIdQuery(t),{duration:i,opacity:n,onComplete:Gt,onCompleteParams:[t],paused:!0});pi("dissolve: Invalid objectId: "+t)}function Ve(t,i,n){if(!e)return pi("getRandomPointInsideCircle: invalid zsUtil"),null;var r=2*Math.PI*Math.random(),l=Math.sqrt(Math.random()),a=n*l*Math.cos(r)+t,s=n*l*Math.sin(r)+i;return e.createPoint(a,s)}function Fe(t,i,n,r,l,a,s){var o=n-t,c=r-i,u=Math.sqrt(Math.pow(o,2)+Math.pow(c,2)),d=Math.sqrt(Math.pow(l,2)+Math.pow(a,2)),f=s+2*d,v=f/u,p=o*v,h=c*v,y=e.round(n+p,0),g=e.round(r+h,0);return e.createPoint(y,g)}function Me(e){hi("onShapeTimelineComplete: progress: "+e.gsapTimeline.progress())}function Oe(e){hi("onShapeExplodeTimelineComplete: progress: "+e.gsapExplodeTimeline.progress())}function ze(t){if(e.isArray(t))for(var i=0;i<t.length;i++)Et(t[i]);else Et(t)}function Le(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)wt(t,i[r],n);else wt(t,i,n)}function Ne(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)De(t,i[r],n);else De(t,i,n)}function De(e,t,i){if(!fi(t))switch(hi("runAudio: "+e+mi+t),t){case"buffer":Ge(e,i);break;case"granulator":Re(e,i);break;case"speechSynth":Ze(e,i)}}function Ge(t,i){if(e.isString(t))switch(t){case"play":tt(i);break;default:return void pi("runAudioBuffer: Unknown actionId: "+t)}}function Re(t,i){if(e.isString(t))switch(t){case"play":Ue(i);break;case"stop":je(i);break;case"config":Xe(i);break;case"rampLinear":Be(i);break;case"rampSin":He(i);break;case"volume":We(i);break;default:return void pi("runAudioGranulator: Unknown actionId: "+t)}}function Ue(e){fi(n)?pi("runAudioPlayGranulator: Invalid zsAudio lib"):n.playGranulator()}function je(e){fi(n)?pi("runAudioPlayGranulator: Invalid zsAudio lib"):n.stopGranulator()}function Be(t){if(fi(n))pi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,r=null,l=null;fi(t.paramName)||(i=t.paramName),fi(t.endValue)||(r=t.endValue),fi(t.duration)||(l=t.duration),n.setGranulatorRampLinear(i,r,l)}}function We(t){if(fi(n))pi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,r=null;fi(t.level)||(i=t.level),fi(t.timeMs)||(r=t.timeMs),n.setGranulatorGain(i,r)}}function He(t){if(fi(n))pi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,r=null,l=null,a=null;fi(t.paramName)||(i=t.paramName),fi(t.amplitude)||(r=t.amplitude),fi(t.frequency)||(l=t.frequency),fi(t.duration)||(a=t.duration),n.setGranulatorRampSin(i,r,l,a)}}function Qe(){fi(n)?pi("runAudioPlayGranulator: Invalid zsAudio lib"):n.resetGranulator()}function qe(){Ce()}function Xe(t){fi(n)?pi("runAudioPlayGranulator: Invalid zsAudio lib"):e.isObject(t)&&n.setGranulatorConfig(t)}function Ze(t,i){if(e.isString(t))switch(t){case"play":Ye(i);break;case"stop":Je(i);break;case"config":Ke(i);break;case"state":$e(i);break;case"rampLinear":et(i);break;default:return void pi("runSpeechSynth: Unknown actionId: "+t)}}function Ye(e){if(fi(n))pi("runPlaySpeechSynth: Invalid zsAudio lib");else if(fi(e))pi("runPlaySpeechSynth: Invalid params");else{var t=gi,i="random",r=!1;fi(e.speechText)||(t=e.speechText),fi(e.speechVoice)||(i=e.speechVoice),fi(e.speechIsInterrupt)||(r=e.speechIsInterrupt);var l=$i.playingTileId;fi(l)&&(l=$i.selectedTileId);var a=ue(l);_e(t,i,r,a)}}function _e(t,i,r,l){if(!fi(t)){if(e.contains(t,Xi)){var a=null;fi(l)||(a=l.txt),t=e.isString(a.value)?e.replace(t,Xi,a.value):e.replace(t,Xi,gi)}n.speak(t,i,r)}}function Je(e){fi(n)?pi("runStopSpeechSynth: Invalid zsAudio lib"):n.stopSpeach()}function Ke(e){fi(n)?pi("updateSpeechCofig: Invalid zsAudio lib"):n.setSpeechConfig(e)}function $e(t){if(e.isObject(t)){var i=$i.speech;fi(t.isPlaySpeechSynthOnClick)||(i.isPlaySpeechSynthOnClick=t.isPlaySpeechSynthOnClick),fi(t.speechText)||(i.speechText=t.speechText),fi(t.speechVoice)||(i.speechVoice=t.speechVoice),fi(t.speechIsInterrupt)||(i.speechIsInterrupt=t.speechIsInterrupt)}else pi("setSpeechState: Invalid params")}function et(t){if(e.isObject(t)){var i=null;fi(t.paramName)||(i=t.paramName);var r=null;fi(t.endValue)||(r=t.endValue);var l=null;fi(t.duration)||(l=t.duration),n.rumpLinearSpeechParam(i,r,l)}else pi("setSpeechState: Invalid params")}function tt(t){if(fi(n))pi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=0;fi(t.index)||(e.isString(t.index)?i=e.toInt(t.index):e.isNumeric(t.index)&&(i=t.index));var r=null,l=null,a=null;fi(t.startTime)||(r=t.startTime),fi(t.offset)||(l=t.offset),fi(t.duration)||(a=t.duration),n.playAudio(i,r,l,a)}}function it(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)nt(t,i[r],n);else nt(t,i,n)}function nt(t,i,n){if(e.isString(t)&&e.isObject(n))switch(hi("rotate: "+i),t){case"start":rt(i,n);break;case"reset":lt(i,n);break;default:return void pi("Unknown rotate actionId: "+t)}}function rt(t,i){var n=0,r=360;fi(i.duration)||(n=i.duration),fi(i.angle)||(r=i.angle);var l=null;if(de(t)){var a=en.tileGroupPrefix+t,s=e.getElement(t),o=Rt(s);e.isArray(o)&&o.length>0?l=o[0]:(l=Ae(a,n,r),o.push(l))}else if(fe(t)){var c=ge(t);if(!fi(c)){var u=c.tweens;l=u,e.isArray(u)&&(l=u[0])}}ri(l)}function lt(t,i){if(e.isString(t)){if(de(t)){var n=e.getElement(t),r=Rt(n);if(e.isArray(r)&&r.length>0){var l=r[0];fi(l)||l.pause(0)}}en.all===t.toUpperCase()&&$i.tiles}}function at(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)st(t,i[r],n);else st(t,i,n)}function st(t,i,n){if(e.isString(t)&&e.isObject(n))switch(hi("runAlpha: "+i),t){case"start":ot(i,n);break;default:return void pi("Unknown aplha actionId: "+t)}}function ot(t,i){var n=0;fi(i.duration)||(n=i.duration);var r=1;fi(i.value)||(r=i.value);var l=null;if(de(t)){var a=en.tileGroupPrefix+t;l=we(a,n,r)}else{switch(t){case en.stageParentId:if($i.stageAlpha===r)return;if($i.stageAlpha=r,r>0){var s=e.getElement("c"+en.stageParentId);fi(s)||Ut(s,!0)}}l=we(t,n,r),hi("runAlphaStart: tween: "+t)}ri(l)}function ct(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)ut(t,i[r],n);else ut(t,i,n)}function ut(t,i,n){if(e.isString(t))switch(hi("reset: actionId: "+t+mi+i),t){case"all":dt(i,n);break;case"elements":ft(i,n);break;default:return void pi("Unknown reset actionId: "+t)}}function dt(t,i){if(e.isString(t))switch(t){case"tiles":x();break;case"shapes":P();break;case"elements":f();break;case"granulator":Qe();break;case"selectedTiles":qe();break;default:return void pi("Unknown reset target: "+t)}}function ft(e,t){if(de(e))S(ue(elementId));else switch(e){case"centreShape":return T($i.centreShape);case"innerCircle":return T($i.innerCircle);case"outerCircle":return T($i.outerCircle);case"zoom":return I();default:hi("resetElements: unknown target: "+e)}}function vt(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)pt(t,i[r],n);else pt(t,i,n)}function pt(t,i,n){if(e.isString(t))switch(hi("runActivate: actionId: "+t+mi+i),t){case"display":ht(i,n);break;default:return void pi("Unknown activate actionId: "+t)}}function ht(e,t){if(!fi(e))switch(hi("runDisplayAction: target: "+e),e){case"selectedTiles":yt(t)}}function yt(e){hi("runDisplaySelectedTiles: ");var t=null;fi(e)||fi(e.duration)||(t=e.duration),Se(t)}function gt(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)mt(t,i[r],n);else mt(t,i,n)}function mt(t,i,n){if(e.isString(t))switch(hi("runDeActivate: actionId: "+t+mi+i),t){case"display":xt(i,n);break;default:return void pi("Unknown DeActivate actionId: "+t)}}function xt(e,t){if(!fi(e))switch(hi("runDeActivateDisplayAction: target: "+e),e){case"overlays":Ie()}}function St(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)bt(t,i[r],n);else bt(t,i,n)}function bt(t,i,n){if(e.isString(t))switch(hi("stop: actionId: "+t+mi+i),t){case"stop":Pt(i,n);break;default:return void pi("Unknown stop actionId: "+t)}}function Pt(e,t){if(!fi(e))switch(hi("runStopAction: target: "+e),e){case"all":Tt(t);break;case"granulator":je(t);break;case"speechSynth":Je(t)}}function Tt(e){hi("runStopAll: "),!fi(n)&&n.isReady()&&(je(e),Je(e))}function It(e){fi(e)||($i.stageAlpha=e,M())}function Ct(e){fi(e)||Et(e)}function Et(e){var t=Vt();if(fi(t))hi("zoom: invalid canvas");else{hi("zoomTarget: "+e);var i=At(e);gsap.to(t,{attr:{viewBox:i},ease:"power3.out",duration:en.zoomDuration})}}function kt(e){z(e.line1,e.line2,e.line3,e.colour,e.isVisible)}function At(t){switch(e.isString(t)||(t="default"),t){case"centreShape":return"660 660 204 204";case"innerCircle":return"471 471 582 582";case"outerCircleSmall":return"350 350 824 824";case"outerCircle":default:return"0 0 1525 1525"}}function wt(t,i,n){if(e.isString(i)&&e.isString(t)){hi("runTimeline: "+i);var r=null;switch(i){case"centreShape":r=$i.centreShape.gsapTimeline;break;case"innerCircle":r=$i.innerCircle.gsapTimeline;break;case"outerCircle":r=$i.outerCircle.gsapTimeline;break;case"centreShapeExplode":r=$i.centreShape.gsapExplodeTimeline;break;case"innerCircleExplode":r=$i.innerCircle.gsapExplodeTimeline;break;case"outerCircleExplode":r=$i.outerCircle.gsapExplodeTimeline;break;default:return void pi("runTimeline: invalid target: "+i)}switch(t){case"start":Ft(r,n);break;case"stop":Mt(r);break;case"end":Ot(r);break;case"reset":zt(r);break;case"reverse":Nt(r,n);break;case"resume":Lt(r,n);break;default:return void pi("runTimeline: invalid actionId: "+t)}}}function Vt(){return e.getElement("svgCanvas")}function Ft(e,t){if(fi(e))pi("startTimeline: invalid timeline");else{if(!fi(t)&&!fi(t.duration)){var i=t.duration;e.totalDuration(i)}var n=e.progress();n>0?e.restart():e.play()}}function Mt(e){fi(e)?pi("stopTimeline: invalid timeline"):e.pause()}function Ot(e){fi(e)?pi("endTimeline: invalid timeline"):e.pause(1)}function zt(e){fi(e)?pi("stopTimeline: invalid timeline"):e.pause(0)}function Lt(e,t){if(fi(e))pi("resumeTimeline: invalid timeline");else if(!e.isActive()){var i=e.totalDuration();if(!fi(t)&&!fi(t.duration))i=t.duration;var n=e.progress();1==n||0==n?(e.totalDuration(i),e.restart()):e.resume()}}function Nt(e,t){if(fi(e))pi("reverseTimeline: invalid timeline");else{var i=e.progress();if(i<1&&Ot(e),!fi(t)&&!fi(t.duration)){var n=t.duration;e.totalDuration(n)}e.reverse()}}function Dt(t){e.getElement(t)}function Gt(t){var i=e.getElement(t);hi("onAlphaComplete: "+t+"  opacity: "+i.style.opacity+"  visiblility: "+i.style.visibility)}function Rt(t){if(!e.isObject(t))return[];if(de(t.id)){var i=ce(t);return i.tweens}return gsap.getTweensOf(t)}function Ut(e,t){if(!fi(e)){var i="hidden";t&&(i="visible"),di(e,{visibility:i})}}function jt(t){if(!fi(Ki)){Ki.innerHTML=gi;var i=$i.instructions.l1,n=en.textSpanPrefix+"1",r=$i.instructions.l2,l=en.textSpanPrefix+"2",a=$i.instructions.l3,s=en.textSpanPrefix+"3",o=gi;t||(t=gi,e.isEmptyString(i)||(o=Bt(i,o),i=e.wrapInSpanElement(i,n),t+=i),e.isEmptyString(r)||(hi("displayInstructions: processing line2 "+r),o=Bt(r,o),r=e.wrapInSpanElement(r,l),t=e.addSuffixIfNotThere(t,en.textLineBreak),t+=r),e.isEmptyString(a)||(hi("displayInstructions: processing line3 "+a),o=Bt(a,o),a=e.wrapInSpanElement(a,s),t=e.addSuffixIfNotThere(t,en.textLineBreak),t+=a));var c=en.textFontSize,u=ai(o,c,Ki);Ki.style.fontSize=gi+u+"px",Ki.style.fontFamily=en.textFontFamily,Ki.innerHTML=t;var d=e.getChildElement(Ki,e.toCssIdQuery(n));fi(d)||(d.style.opacity=0);var f=e.getChildElement(Ki,e.toCssIdQuery(l));fi(f)||(f.style.opacity=0);var v=e.getChildElement(Ki,e.toCssIdQuery(s));if(fi(v)||(v.style.opacity=0),$i.instructions.isVisible=!0,Qt(Ki,$i.instructions),en.textSpanIsFadeIn){var p=en.textSpanFadeTimeSec,h=en.textSpanFadeStaggerTimeSec;fi(d)||gsap.to(d,{duration:p,autoAlpha:1,ease:"power1.in"}),fi(f)||gsap.to(f,{delay:h,duration:p,autoAlpha:1,ease:"power1.in"}),fi(v)||gsap.to(v,{delay:2*h,duration:p,autoAlpha:1,ease:"power1.in"})}else fi(d)||(d.style.opacity=1),fi(f)||(f.style.opacity=1),fi(v)||(v.style.opacity=1)}}function Bt(t,i){var n=e.removeMarkup(t);return n.length>i.length?n:i}function Wt(e){return en.textFontType+mi+e+"px "+en.textFontFamily}function Ht(){fi(Ki)||(Ki.innerHTML=gi,$i.instructions.isVisible=!1,Qt(Ki,$i.instructions))}function Qt(t,i){var n=W(i);fi(i.bckgCol)||(n.background=i.bckgCol),e.setElementStyleProperty(t,n)}function qt(t){if(!fi(t)&&vi(t.data)){var i=e.parseJson(serverData);Xt(i,!1)}}function Xt(e,t){fi(e)||(t||f(),vi(e.tiles)&&(t?Yt(e.tiles):_t(e.tiles)),vi(e.centreShape)&&Zt(e.centreShape,$i.centreShape,"centreShape"),vi(e.innerCircle)&&Zt(e.innerCircle,$i.innerCircle,"innerCircle"),vi(e.outerCircle)&&Zt(e.outerCircle,$i.outerCircle,"outerCircle"),vi(e.actions)&&Kt(e.actions),vi(e.zoomLevel)&&Ct(e.zoomLevel),vi(e.instructions)&&kt(e.instructions),vi(e.stageAlpha)&&It(e.stageAlpha))}function Zt(e,t,i){fi(e)||fi(t)||(t.isVisible=e.isVisible,ke(t,i))}function Yt(t){if(e.isArray(t)){for(var i=[],n=0;n<t.length;n++){var r=t[n];if(e.isObject(r)){var l=r.state,a=ue(l.id),s=r.tileText,o=a.txt;a.isActive=l.isActive,a.isVisible=l.isVisible,a.isPlaying=l.isPlaying,a.isPlayingNext=l.isPlayingNext,a.isPlayed=l.isPlayed,a.clickCount=l.clickCount,o.value=s.value,o.isVisible=s.isVisible,i.push(a)}else pi("processSeverTilesStateDelta: invalid server tile")}Jt(i)}}function _t(t){if(e.isArray(t)&&e.isArray(t[0])){for(var i=[],n=0;n<t.length;n++)for(var r=t[n],l=0;l<r.length;l++){var a=t[n][l],s=$i.tiles[n][l],o=a.id,c=s.id;if(o===c){var u=a.state,d=a.tileText,f=s.txt;ii(s,u)&&ni(f,d)||(s.isActive=u.isActive,s.isVisible=u.isVisible,s.isPlaying=u.isPlaying,s.isPlayingNext=u.isPlayingNext,s.isPlayed=u.isPlayed,s.clickCount=u.clickCount,f.value=d.value,f.isVisible=d.isVisible,i.push(s))}else pi("processSeverTilesState: Server id "+o+"and client id "+c+"not identical")}Jt(i)}}function Jt(t){hi("Have "+t.length+" tile changes");for(var i=0;i<t.length;i++){var n=t[i],r=e.getElement(n.id);!n.isPlayed&&n.isVisible&&n.isActive||!n.isSelected||(n.isSelected=!1),Ee(n,r),me(n,r),xe(n,r),n.isPlaying&&($i.playingTileId=n.id)}q()}function Kt(t){var i=null,n=null,r=[],l={};if(e.isArray(t))for(var a=0;a<t.length;a++){var s=t[a];vi(s.id)&&(i=s.id),vi(s.actionType)&&(n=s.actionType),vi(s.elementIds)&&(r=s.elementIds),vi(s.params)&&(l=s.params),$t(i,n,r,l)}}function $t(e,t,i,n){if(hi("doAction: "+e+" actionType: "+t),!fi(t)&&!fi(i))switch(t){case"ACTIVATE":vt(e,i,n);break;case"ANIMATION":break;case"DEACTIVATE":gt(e,i,n);break;case"VISIBLE":break;case"INVISIBLE":ei(i);break;case"ZOOM":ze(i);break;case"TIMELINE":Le(e,i,n);break;case"ROTATE":it(e,i,n);break;case"ALPHA":at(e,i,n);break;case"AUDIO":Ne(e,i,n);break;case"RESET":ct(e,i,n);break;case"STOP":St(e,i,n);break;default:pi("doAction: Unknown actionType: "+t)}}function ei(t){if(!fi(t))if(e.isArray(t))for(var i=0;i<t.length;i++)ti(t[i]);else ti(t)}function ti(t){if(!fi(t)){var i=e.getElement(t);if(de(t)){var n=ce(i);if(fi(n))return;n.isVisible=!1,Ee(n,i)}}}function ii(e,t){return!fi(e)&&!fi(t)&&(e.id===t.id&&(e.isVisible===t.isVisible&&e.isActive===t.isActive&&e.isPlaying===t.isPlaying&&e.isPlayingNext===t.isPlayingNext&&e.clickCount===t.clickCount&&e.isPlayed===t.isPlayed))}function ni(e,t){return!fi(e)&&!fi(t)&&(e.isVisible===t.isVisible&&e.value===t.value)}function ri(e){if(!fi(e)){var t=e.progress();t>0?e.restart():e.play()}}function li(){return e.getElement(en.instructionTxtElementId)}function ai(e,t,i){var n=1;r.innerWidth||l.documentElement.clientWidth||l.body.clientWidth;var a=r.innerHeight||l.documentElement.clientHeight||l.body.clientHeight,s=(Wt(n),i.clientWidth),o=s*en.textWidthCompressor,c=a*en.textAreaMax;n=oi(e,t,o),n=si(s,n,c);var u=en.textMaxFontSize;return n>u&&(n=u),n}function si(e,t,i){var n=Wt(t),r=t,l=ui(n,e,i);if(l<0)return r;var a=l*en.textNumberOfLines,s=i/a;return s<1&&(r*=s),r}function oi(e,t,i){var n=Wt(t),r=ci(n,e),l=r.width;if(l<=0||l>i||Math.abs(i-l)<1)return t;var a=i/l,s=t*a;return oi(e,s,i)}function ci(e,t){var i=$i.fontCanvas,n=$i.canvasCtx;return n.fillRect(0,0,i.width,i.height),n.textBaseline="top",n.fillStyle=Ii,n.font=e,n.measureText(t)}function ui(e,t,i){var n=$i.fontCanvas,r=$i.canvasCtx;n.width=t,n.height=i,r.fillRect(0,0,n.width,n.height),r.textBaseline="top",r.fillStyle=Ii,r.font=e;var l="gM";r.fillText(l,0,0);for(var a=r.getImageData(0,0,n.width,n.height).data,s=-1,o=-1,c=0;c<n.height;c++)for(var u=0;u<n.width;u++){var d=4*(c*n.width+u);if(0!==a[d]){-1===s&&(s=c);break}if(u===n.width-1&&-1!==s){o=c,c=n.height;break}}var f=(o-s)*en.textHeightCompressor;return f}function di(t,i){e.setElementAttributes(t,i)}function fi(t){return e.isNull(t)}function vi(t){return e.isNotNull(t)}function pi(t){e.logError(t)}function hi(t){e.log(t)}
const yi="DEV",gi="",mi=" ",xi="m",Si="ELEMENT_SELECTED",bi="elementId",Pi="selected",Ti="fill",Ii="#FFFFFF",Ci="#000000",Ei="#CCFFCC",ki="#C0C0C0",Ai="#2F4F4F",wi="#696969",Vi="#4B4B4B",Fi="#FFA500",Mi="#DC143C",Oi=wi,zi=Vi,Li=Vi,Ni=Vi,Di=Ii,Gi=Ai,Ri=Ai,Ui=Ii,ji=Ii,Bi=Ci,Wi=Mi,Hi=Ei,Qi=Fi,qi=ki,Xi="@TILE_TEXT@",Zi="Arial";var Yi=["/audio/violin-tuning.mp3","/audio/UnionRoseE2m.mp3","/audio/UnionRoseE3.mp3","/audio/UnionRoseE4.mp3","/audio/UnionRoseE5.mp3","/audio/UnionRose-m1.mp3"],_i=null,Ji=null,Ki=null,$i={tiles:[],tileCircles:[],centreShape:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},innerCircle:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},outerCircle:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},instructions:{isVisible:!1,l1:gi,l2:gi,l3:gi,bckgCol:"rgba(225, 225, 225, 0.85)"},selectedTileId:null,playingTileId:null,fontCanvas:null,canvasCtx:null,speech:{isPlaySpeechSynthOnClick:!1,speechText:"I, I clicked on "+Xi,speechVoice:"random",speechIsInterrupt:!0},stageAlpha:1},en={connectionPreference:"ws,poll",centre:{x:762,y:762},circleRadii:[55,92,125,194,291,401,552,750],outerFrameRadius:2e3,lineEnd:{x:762,y:12},lineLen:750,lineAngles:[0,45,90,135,180,225,270,315],tileAngles:[0,45,90,135,180,225,270,315,360],viewMinPoint:0,viewMaxPoint:1525,circlePrefix:"c",linePrefix:"l",tilePrefix:"t",overlayPrefix:"o",selectedPrefix:"s",tileCircleGroupPrefix:"ctg",tileGroupPrefix:"g",tileTextElementPrefix:"x",tileTextPathElementPrefix:"px",tileTextElementPathPrefix:"hx",tileTextSpanPrefix:"sp",stageParentId:"stage",overlayParentId:"overlay",stageId:"stageCircle",frameParentId:"frame",outerFrameId:"outerFrame",elementIdDelimiter:"-",svgArcs:[null,null,null,null,null,null,null,null],gridParentId:"grid",gridStyle:{fill:"none",stroke:"aqua","stroke-width":"2px"},stageStyle:{fill:Bi,"stroke-width":"0px","stroke-opacity":"0",visibility:"visible",opacity:$i.stageAlpha,"pointer-events":"none"},tilesParentId:"tiles",frameStyle:{fill:ji,"stroke-width":"0px","stroke-opacity":"0",visibility:"visible",opacity:1},tileStyleOverlayPlayingNext:{fill:"none",stroke:Qi,"stroke-width":"1px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleOverlayPlaying:{fill:"none",stroke:Hi,"stroke-width":"1px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleOverlaySelected:{fill:"none",stroke:Wi,"stroke-width":"2px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleSelectedPath:{fill:"none",stroke:Wi,"stroke-width":"7px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleConnectorPath:{fill:"none",stroke:Wi,"stroke-width":"2px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleVisible:{fill:Ni,stroke:qi,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleActive:{fill:zi,stroke:qi,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleInActive:{fill:Di,stroke:qi,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleInvisible:{visibility:"hidden"},tileStyleOnPonterEntry:{fill:Gi},tileStyleSelected:{fill:Ri,stroke:qi,"stroke-width":"2px",visibility:"visible",opacity:1},tileStylePlayed:{visibility:"hidden"},tileStylePlaying:{fill:Li,stroke:qi,"stroke-width":"1px",visibility:"visible",opacity:1},tileStylePlayingNext:{stroke:qi,"stroke-width":"2px",visibility:"visible",opacity:1},tileStyleTextPathDef:{fill:"none",stroke:"none"},tileStyleTextElement:{visibility:"visible",opacity:1},tileStyleTextElementInvisible:{visibility:"hidden"},tileStyleTorusTextPathElement:{startOffset:"50%","text-anchor":"middle",fill:Ui,stroke:"none"},tileStylePieTextPathElement:{startOffset:"90%","text-anchor":"end",fill:Ui,stroke:"none"},tileStyleInvertedPieTextPathElement:{startOffset:"10%","text-anchor":"start",fill:Ui,stroke:"none"},tileStyleTextSpan:{"font-family":Zi,"dominant-baseline":"middle"},tileTextMinLength:5,tileTextSizeMultiplier:{torus:.8,pie:.7},shapeStyleInvisible:{visibility:"hidden"},shapeStyleVisible:{visibility:"visible"},shapeTimelineDuration:60,shapeExplodeDuration:5,instructionTxtElementId:"instructionTxt",textLineBreak:"<br/>",textStyleInvisible:{visibility:"hidden"},textStyleVisible:{visibility:"visible"},textFontFamily:"Arial",textFontType:"normal",textFontSize:50,textMaxFontSize:70,textMaxLineLen:30,textHeightCompressor:1.1,textWidthCompressor:.9,textAreaMax:.4,textNumberOfLines:3,textSpanPrefix:"is",textSpanIsFadeIn:!0,textSpanFadeTimeSec:1,textSpanFadeStaggerTimeSec:.5,appUrlHttp:"/htp",appUrlSse:"/sse",appUrlWebsockets:"/wsoc",zoomDuration:3,all:"ALL",testTextElementId:"testTxt",colModPerClick:-20,maxColModPerClick:-150,overlayInDuration:12};return{load:function(){u()},createSvgTile:L,initTiles:m,setTileText:U}}(zsUtil,zsNet,zsSvg,zsAudio,window,document);