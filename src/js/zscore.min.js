var zscore=function(e,t,i,n,r,l){"use strict";function a(e){this.message=e,this.name="ZScoreException"}function s(e,t,i){this.value=e,this.isVisible=t,this.sizeMultiplier=i}function o(e,t,i,n,r,l,a,s,o,c){this.id=e,this.isSelected=t,this.isActive=i,this.isVisible=n,this.isPlaying=r,this.isPlayingNext=l,this.isPlayed=a,this.clickCount=s,this.arc=o,this.txt=c,this.tweens=[]}function c(e){this.id=e,this.tweens=[],this.selectedId=null}function u(){vi("onLoad: "),d()}function d(){if(!(e&&t&&i&&n))throw new a("Invalid libraries. Required: zsUtil, zsNet, zsSvg and zsAudio");e.setRunMode(pi),vi("init: "),Zi=e.isTouchDevice(),Yi=e.isSafari(navigator),vi("init: IsTouch Device: "+Zi+" isSafari: "+Yi),Ji.fontCanvas=l.createElement("canvas"),Ji.canvasCtx=Ji.fontCanvas.getContext("2d"),v(),g(),h(),m(),C(),M(),w(),V(),F(),p()}function f(){x(),P(),I(),y()}function v(){t.init(Ki.connectionPreference,Ki.appUrlSse,Ki.appUrlWebsockets,Ki.appUrlHttp,Ht,Qt)}function p(){t.getServerState()}function h(){ui(n)?fi("initAudio: invalid zsAudio lib"):n.init(Xi,5)}function y(){ui(n)?fi("resetAudio: invalid zsAudio lib"):n.reset()}function g(){i.init()}function m(){var t=!1,i=!1,n=!0,r=!1,l=!1,a=!1,u=0,d=new s(hi,!1,1),f=new o(null,t,i,n,r,l,a,u,null,d);Ji.tiles=e.init2DArray(8,8,f);var v=new c(null);Ji.tileCircles=e.initArray(8,v)}function x(){for(var e=0;e<Ji.tiles.length;e++)for(var t=Ji.tiles[e],i=0;i<t.length;i++)S(Ji.tiles[e][i])}function S(t){b(t.id),t.isSelected=!1,t.isActive=!1,t.isVisible=!0,t.isPlaying=!1,t.isPlayingNext=!1,t.isPlayed=!1,t.clickCount=0,t.txt.value=hi,t.txt.isVisible=!1;for(var i=0;i<t.tweens.length;i++){var n=t.tweens[i];ui(n)||n.pause(0)}var r=e.getElement(t.id);Ce(t,r)}function b(t){var i=Ki.tileGroupPrefix+t,n=e.getElement(i);ui(n)||(n.style.opacity="1")}function P(){T(Ji.centreShape),T(Ji.innerCircle),T(Ji.outerCircle)}function T(t){t.isVisible=!1,e.isFunction(t.gsapTimeline.pause)&&t.gsapTimeline.pause(0),e.isFunction(t.gsapTimeline.progress)&&t.gsapTimeline.progress(1,!0),e.isFunction(t.gsapExplodeTimeline.pause)&&t.gsapExplodeTimeline.pause(0)}function I(){It("centreShape")}function C(){E("centreShape",Ji.centreShape,Ki.circleRadii[1],Ki.circleRadii[7],!0),E("innerCircle",Ji.innerCircle,Ki.circleRadii[4],Ki.viewMaxPoint,!1),E("outerCircle",Ji.outerCircle,Ki.circleRadii[7],Ki.viewMaxPoint,!1)}function E(t,i,n,r,l){var a=e.getElement(t);if(ui(a))fi("Failed to find shape: "+t);else{vi("initShape: shapeId: "+t),Rt(a,i.isVisible);var s=Ki.shapeTimelineDuration;k(a,i,s,n),s=Ki.shapeExplodeDuration,A(a,i,s,r,l)}}function k(t,i,n,r){var l=gsap.timeline({paused:!0,ease:"power4.inOut",onComplete:Fe,onCompleteParams:[i]});i.gsapTimeline=l;var a=Ki.centre.x,s=Ki.centre.y,o=1,c=t.children;if(!ui(c)){vi("initShapeTimeline: have : "+c.length+" children");for(var u=0;u<c.length;u++){var d=c[u];e.isEmptyString(d.id)&&(d.id="csh"+u);var f=d.getBBox(),v=f.x,p=f.y,h=we(a,s,r),y=e.randomIntFromInterval(0,360)*o;o*=-1;var g=e.randomFloatFromInterval(.1,2),m=h.x-v,x=h.y-p,S=d.id,b=gsap.from(e.toCssIdQuery(S),{x:m,y:x,rotation:y,scale:g});l.add(b,0)}l.totalDuration(n)}}function A(t,i,n,r,l){var a=gsap.timeline({paused:!0,ease:"slow",onComplete:Me,onCompleteParams:[i]});i.gsapExplodeTimeline=a;var s=Ki.centre.x,o=Ki.centre.y,c=t.children;if(!ui(c)){vi("initShapeExplodeTimeline: have : "+c.length+" children");for(var u=0;u<c.length;u++){var d=c[u];e.isEmptyString(d.id)&&(d.id="csh"+u);var f=d.id,v=d.getBBox(),p=v.x,h=v.y,y=v.width,g=v.height,m=null;if(m=l?we(s,o,r):Ve(s,o,p,h,y,g,r),ui(m))return void fi("initShapeExplodeTimeline: calculated invalid random point");var x=m.x-p,S=m.y-h,b=gsap.to(e.toCssIdQuery(f),{x:x,y:S});a.add(b,0)}a.totalDuration(n)}}function w(){for(var e=Ki.circleRadii,t=Ki.centre,i=Ki.tileAngles,n=10,r=360,l=0;l<e.length;l++){var a=Ji.tileCircles[l];a.id=Ki.tileCircleGroupPrefix+(l+1);var s=ke(a.id,n,r);a.tweens.push(s),r*=-1;for(var o=e[l],c=1;c<i.length;c++){var u=i[c-1],d=i[c];z(t.x,t.y,o,u,d,l+1,c)}}}function V(){var t=Ji.tiles;if(e.isArray(t)){var n=Ki.centre,r=n.x,l=n.y,a=Ki.circleRadii[Ki.circleRadii.length-1]+1,s=Ki.outerFrameRadius,o=Ki.frameParentId,c=Ki.outerFrameId,u=i.createPathElement(c),d=Ki.frameStyle;ci(u,d);var f=i.createTorusPath(r,l,a,s);di(f)&&u.setAttribute("d",f),e.addChildToParentId(o,u)}else fi("createOuterFrame: invalid tiles")}function F(){var t=Ki.circleRadii[7]+2,n=Ki.centre,r=Ki.stageParentId,l=i.createSvgCircle(n.x,n.y,t,"stage");e.setElementAttributes(l,Ki.stageStyle),e.addChildToParentId(r,l)}function M(){var t=ni();ui(t)||(_i=t,e.listen("resize",r,le),e.listen("orientationchange",r,le),O("Welcome to","<span style='color:blueviolet;'>ZScore</span>","awaiting performance start ...",null,!0))}function O(e,t,i,n,r){if(!ui(_i)){var l=!1;if(!ui(e)){var a=e.trim();Ji.instructions.l1!=a&&(Ji.instructions.l1=a,l=!0)}if(!ui(t)){a=t.trim();Ji.instructions.l2!=a&&(Ji.instructions.l2=a,l=!0)}if(!ui(i)){a=i.trim();Ji.instructions.l3!=a&&(Ji.instructions.l3=a,l=!0)}ui(n)||(Ji.instructions.bckgCol=n),r?l&&Gt():Bt()}}function z(t,n,r,l,a,s,o){var c=Ki.tilePrefix+e.toStr(s)+Ki.elementIdDelimiter+e.toStr(o),u=i.createPathElement(c);if(ui(u))fi("createSvgTile: Failed to create tile: "+c);else{var d=Ki.tileCircleGroupPrefix+e.toStr(s),f=Ki.tileGroupPrefix+c,v=i.createGroupElement(f);e.addChildToParentId(d,v),e.listen("mouseenter",v,K),e.listen("mouseleave",v,$),e.listen("touchend",v,J),e.listen("mouseup",v,_);u=i.createPathElement(c);e.addChildToParentId(f,u);var p=s-1,h=o-1,y=Ji.tiles[p][h];if(ui(y))fi("createSvgTile: Invalid tile state");else{y.id=c;var g=i.createArc(t,n,r,l,a);y.arc=g,Ce(y,u);var m=null;ui(y.txt)||(m=y.txt);var x=null;if(s<=1)x=i.createPieTilePath(t,n,g),L(t,n,r,l,a,o,c,f,m);else{var S=Ji.tiles[p-1][h],b=S.arc;x=i.createTorusTilePath(g,b),D(t,n,l,a,o,b,g,c,f,m)}di(x)&&u.setAttribute("d",x)}}}function L(t,n,r,l,a,s,o,c,u){var d=Ki.tileTextPathElementPrefix+o,f=i.createPathElement(d),v=Ki.tileStylePieTextPathElement,p=l+e.round((a-l)/2,1),h=t,y=n-r,g=null;s>4&&s<9?(g=i.createLinePath(h,y,t,n),v=Ki.tileStyleInvertedPieTextPathElement):g=i.createLinePath(t,n,h,y),f.setAttribute("d",g),i.rotateElement(f,p,t,n),u.sizeMultiplier=Ki.tileTextSizeMultiplier.pie,R(u,f,d,c,o,v)}function N(e,t,n,r,l,a){var s=Ki.selectedPrefix+l+a,o=i.createPathElement(s),c=Ki.shapeStyleInvisible,u=i.createLinePath(e,t,n,r);return o.setAttribute("d",u),ci(o,c),o}function D(e,t,n,r,l,a,s,o,c,u){var d=a.rX+(s.rX-a.rX)/2,f=i.createArc(e,t,d,n,r),v=i.invertArc(f);l>2&&l<7&&(v=f);var p=Ki.tileTextPathElementPrefix+o,h=i.createArcPath(v),y=i.createPathElement(p);y.setAttribute("d",h);var g=Ki.tileStyleTorusTextPathElement;u.sizeMultiplier=Ki.tileTextSizeMultiplier.torus,R(u,y,p,c,o,g)}function R(t,n,r,a,o,c){ci(n,Ki.tileStyleTextPathDef),e.addFirstChildToParent(wt(),n);var u=i.createTextElement(Ki.tileTextElementPrefix+o);ci(u,Ki.tileStyleTextElement);var d=i.createTextPathElement(Ki.tileTextElementPathPrefix+o);d.setAttribute("href",e.toCssIdQuery(r)),ci(d,c);var f=i.createTspanElement(Ki.tileTextSpanPrefix+o);ci(f,Ki.tileStyleTextSpan);var v=l.createTextNode(hi);f.appendChild(v),d.appendChild(f),u.appendChild(d),e.addChildToParentId(a,u);var p=hi,h=1;e.isObjectInstanceOf(s,t)||(p=t.value,h=t.sizeMultiplier),G(p,n,f,h)}function G(t,i,n,r){if(!ui(n)&&!ui(i)){var l=n;if(!ui(l)){var a=l.textContent,s=hi;if(e.isString(t)&&hi!==t&&(s=t),a!==s){var o=s,c=o.length;if(c<Ki.tileTextMinLength)for(var u=Ki.tileTextMinLength-c,d=0;d<u;d++)o+=gi;var f=i.getTotalLength(),v=r,p=e.getElement(Ki.testTextElementId);p.textContent=o;var h=10,y=hi+h+"px";p.setAttribute("font-size",y);var g=p.getComputedTextLength();0===g&&(g=f);var m=f/g;h*=m*v,h=Math.floor(h),y=hi+h+"px",vi("setTileText: text: "+s+" pathLen: "+f+" testTextLen: "+g+" ratio: "+m+" fontSize: "+y),l.setAttribute("font-size",y),l.textContent=s}}}}function U(e){return ui(e)?null:e.isVisible?Ki.shapeStyleVisible:Ki.shapeStyleInvisible}function j(e){return e.isVisible?di(e.txt)&&!e.txt.isVisible?Ki.tileStyleTextElementInvisible:Ki.tileStyleTextElement:Ki.tileStyleTextElementInvisible}function B(e){return e.isVisible?Ki.textStyleVisible:Ki.textStyleInvisible}function W(e){return ui(e)?null:e.isPlaying?Ki.tileStyleOverlayPlaying:e.isPlayingNext?Ki.tileStyleOverlayPlayingNext:e.isSelected?Ki.tileStyleOverlaySelected:null}function H(e){return ui(e)?null:e.isPlaying?Ki.tileStylePlaying:e.isPlayingNext?Ki.tileStylePlayingNext:e.isPlayed?Ki.tileStylePlayed:e.isVisible?e.isSelected?Ki.tileStyleSelected:e.isActive?Ki.tileStyleActive:Ki.tileStyleInActive:Ki.tileStyleInvisible}function Q(){for(var t=e.initArray(Ji.tiles.length,null),i=0;i<Ji.tiles.length;i++)for(var n=Ji.tiles[i],r=0;r<n.length;r++){var l=Ji.tiles[i][r];if(l.isActive){var a=e.getElement(l.id),s=t[i];ui(s)&&(s=q(i),t[i]=s),X(a,l,s)}}}function q(t){var i=Y(t);if(ui(i))return null;var n=e.arrSortedNonZeroElem(i);return n.length<1?null:[0,n[0],0,Ki.maxColModPerClick]}function X(t,i,n){if(i.isActive){var r=Fi,l=i.clickCount;if(!(l<=0)){var a=Z(i,n);r=e.modColour(r,a),t.setAttribute(bi,r)}}}function Z(t,i){var n=t.clickCount,r=Ki.colModPerClick*n;if(!e.isArray(i)||4!=i.length)return r;r=e.mapRange(n,i[0],i[1],i[2],i[3]);return r}function Y(t){var i=e.initArray(Ji.tiles[0].length,0);if(t<0||t>=Ji.tiles.length)return i;for(var n=Ji.tiles[t],r=0;r<n.length;r++){var l=Ji.tiles[t][r],a=l.clickCount;l.isPlayed&&(a=0),i[r]=a}return i}function _(e){vi("onMouseUp:"),Zi||ie(this)}function J(e){vi("onTouchEnd:"),ie(this)}function K(e){Zi||ee(this)}function $(e){Zi||te(this)}function ee(t){if(!e.isObject(t))return null;var i=t,n=t.id;if(ve(n)?(n=he(n),i=e.getElement(n)):fe(n)&&(n=pe(n),i=e.getElement(n)),!ue(n))return vi("getTileState: invalid tile id: "+n),null;ci(i,Ki.tileStyleOnPonterEntry)}function te(t){if(e.isObject(t)){var i=se(t);if(!ui(i)){var n=oe(i);ui(n)?vi("onPointerLeave: invalid selected tile"):Ce(n,i)}}}function ie(e){n.isReady()||h();var t=oe(e);ui(t)?vi("processSelectedTile: invalid selected tile"):ne(t,e)}function ne(i,n){re(i);var r=i.id,l=e.getElement(r);if(!ui(l)){var a=ae(r),s=Ji.tileCircles[a.x];if(i.isActive||!i.isVisible){if(!(i.isPlaying||i.isPlayingNext||i.isPlayed)){if(r!==Ji.selectedTileId&&di(Ji.selectedTileId)){var o=ce(Ji.selectedTileId);o.isSelected=!1;var c=e.getElement(Ji.selectedTileId);Ce(o,c),me(o,c)}i.isSelected=!i.isSelected,i.isSelected&&(Ji.selectedTileId=r,s.selectedId=r),Ce(i,l),me(i,l);var u={};u[xi]=i.id,u[Si]=i.isSelected,t.sendEvent(mi,u)}}else for(var d=s.tweens,f=0;f<d.length;f++){var v=d[f];ii(v)}}}function re(t){var i=Ji.speech;i.isPlaySpeechSynthOnClick&&n.isSpeachReady()&&e.isString(i.speechText)&&Ye(i.speechText,i.speechVoice,i.speechIsInterrupt,t)}function le(t){if(!e.isObject(this))return null;Gt()}function ae(t){if(ui(t))return null;if(!e)return fi("getTileRowCol: invalid zsUtil"),null;var i=e.replace(t,Ki.tilePrefix,hi),n=i.split(Ki.elementIdDelimiter);if(!e.isArray(n)||2!==n.length)return vi("getTileState: invalid tile info: "+i),null;var r=e.toInt(n[0])-1,l=e.toInt(n[1])-1;return e.createPoint(r,l)}function se(t){if(!e.isObject(t))return null;var i=t.id;return ue(i)?t:(ve(i)?i=he(i):fe(i)&&(i=pe(i)),ui(i)?null:e.getElement(i))}function oe(t){if(!e.isObject(t))return null;var i=t.id;return ve(i)?i=he(i):fe(i)&&(i=pe(i)),ce(i)}function ce(e){if(!ue(e))return vi("getTileState: invalid tile id: "+e),null;var t=ae(e);return ui(t)?null:Ji.tiles[t.x][t.y]}function ue(t){return!(ui(t)||!e.isString(t))&&e.startsWith(t,Ki.tilePrefix)}function de(t){return!(ui(t)||!e.isString(t))&&e.startsWith(t,Ki.tileCircleGroupPrefix)}function fe(t){return!(ui(t)||!e.isString(t))&&e.startsWith(t,Ki.tileTextElementPrefix)}function ve(t){return!(ui(t)||!e.isString(t))&&e.startsWith(t,Ki.tileGroupPrefix)}function pe(t){if(ui(t)||!e.isString(t))return!1;var i=t.substring(Ki.tileTextElementPrefix.length,t.length);return ue(i)?i:null}function he(t){if(ui(t)||!e.isString(t))return!1;var i=t.substring(Ki.tileGroupPrefix.length,t.length);return ue(i)?i:null}function ye(t){if(ui(t)||!e.isString(t))return!1;var i=t.substring(Ki.tileCircleGroupPrefix.length,t.length),n=e.toInt(i)-1;if(!(n<0||n>=Ji.tileCircles.length))return Ji.tileCircles[n];fi("getCircleGroupIndexFromId: Invalid circle group index: "+n)}function ge(t,i){if(!ui(t)&&!ui(i)){var n=i.id,r=Ki.tileTextPathElementPrefix+n,l=e.getElement(r);if(!ui(l)){var a=Ki.tileTextElementPrefix+n,o=e.getElement(a);if(!ui(o)){var c=hi;ui(t)||ui(t.txt)||(c=t.txt);var u=Ki.tileTextSpanPrefix+n,d=e.getChildElement(o,e.toCssIdQuery(u));if(!ui(d)){var f=hi,v=1;e.isObjectInstanceOf(s,c)||(f=c.value,v=c.sizeMultiplier),G(f,l,d,v)}}}}}function me(t,i){var n=t.id,r=Ki.overlayPrefix+n,l=e.getElement(r),a=W(t);ui(a)?ui(l)||l.remove():(ui(l)&&(l=e.cloneElement(i,r)),ci(l,a),e.addChildToParentId(Ki.overlayParentId,l))}function xe(){Ji.tileCircles[0].selectedId="t1-2",Ji.tileCircles[1].selectedId="t2-5",Ji.tileCircles[4].selectedId="t5-7",Ji.tileCircles[6].selectedId="t7-3",Ji.tileCircles[7].selectedId="t8-7";for(var t=[],i=[],n=null,r=null,l=0;l<Ji.tileCircles.length;l++){var a=Ji.tileCircles[l],s=a.selectedId;if(!ui(s)){var o=e.getElement(s);if(ui(o))fi("setSelectedTilesOverlay: can not find tile for selected id: "+s);else{var c=Ki.selectedPrefix+s,u=e.getElement(c);if(ui(u)&&(u=e.cloneElement(o,c),ci(u,Ki.shapeStyleInvisible),e.addChildToParentId(Ki.overlayParentId,u),t.push(u),l>0)){var d=ce(s);r=d;var f=be(l);ui(n)&&(n=f);var v=Se(d,f);if(ui(v))continue;var p=e.getElement(v.id);if(!ui(p))continue;e.addChildToParentId(Ki.overlayParentId,v),i.push(v)}}}}v=Se(n,r),p=e.getElement(v.id);ui(p)&&(e.addChildToParentId(Ki.overlayParentId,v),i.push(v));var h=e.getElement(Ki.overlayParentId),y=Pe(h,Ki.overlayInDuration,Ki.outerFrameRadius);y.play();for(l=0;l<t.length;l++){var g=t[l];ci(g,Ki.tileStyleSelectedPath)}for(l=0;l<i.length;l++){g=i[l];ci(g,Ki.tileStyleConnectorPath)}}function Se(e,t){if(ui(e)||ui(t))return null;var i=e.arc,n=t.arc;if(ui(i)||ui(n))return null;var r=i.startX,l=i.startY,a=n.endX,s=n.endY;return N(a,s,r,l,e.id,t.id)}function be(e){if(e<=0)return null;if(e>=Ji.tileCircles.length)return Ji.tileCircles[Ji.tileCircles.length-1];for(var t=e-1;t>=0;t--){var i=Ji.tileCircles[t],n=i.selectedId;if(!ui(n))return ce(n)}return null}function Pe(t,i,n){var r=gsap.timeline({paused:!0,ease:"power4.inOut"}),l=Ki.centre.x,a=Ki.centre.y,s=1,o=t.children;if(!ui(o)){vi("createSelectedTileTimeline: have : "+o.length+" children");for(var c=0;c<o.length;c++){var u=o[c];e.isEmptyString(u.id)&&(u.id="csh"+c);var d=u.getBBox(),f=d.x,v=d.y,p=d.width,h=d.height,y=Ve(l,a,f,v,p,h,n),g=e.randomIntFromInterval(0,360)*s;s*=-1;var m=e.randomFloatFromInterval(.1,2),x=y.x-f,S=y.y-v,b=u.id,P=gsap.from(e.toCssIdQuery(b),{x:x,y:S,rotation:g,scale:m});r.add(P,0)}return r.totalDuration(i),r}}function Te(){for(var t=0;t<Ji.tileCircles.length;t++){var i=Ji.tileCircles[t],n=i.selectedId;if(!ui(n)){var r=Ki.selectedPrefix+n,l=e.getElement(r);ui(l)||l.remove()}}}function Ie(){Te();for(var e=0;e<Ji.tileCircles.length;e++){var t=Ji.tileCircles[e];t.selectedId=null}}function Ce(t,i){var n=H(t);ci(i,n);var r=Ki.tileTextElementPrefix+t.id,l=e.getElement(r);if(!ui(l)){var a=j(t);ci(l,a)}}function Ee(t,i){var n=U(t),r=e.getElement(i);ci(r,n)}function ke(t,i,n){if(!ui(t))return gsap.to(e.toCssIdQuery(t),{duration:i,rotation:n,svgOrigin:hi+Ki.centre.x+yi+Ki.centre.y,onComplete:Nt,onCompleteParams:[t],paused:!0});fi("rotate: Invalid objectId: "+t)}function Ae(t,i,n){if(!ui(t))return gsap.to(e.toCssIdQuery(t),{duration:i,autoAlpha:n,onComplete:Nt,onCompleteParams:[t],paused:!0});fi("dissolve: Invalid objectId: "+t)}function we(t,i,n){if(!e)return fi("getRandomPointInsideCircle: invalid zsUtil"),null;var r=2*Math.PI*Math.random(),l=Math.sqrt(Math.random()),a=n*l*Math.cos(r)+t,s=n*l*Math.sin(r)+i;return e.createPoint(a,s)}function Ve(t,i,n,r,l,a,s){var o=n-t,c=r-i,u=Math.sqrt(Math.pow(o,2)+Math.pow(c,2)),d=Math.sqrt(Math.pow(l,2)+Math.pow(a,2)),f=s+2*d,v=f/u,p=o*v,h=c*v,y=e.round(n+p,0),g=e.round(r+h,0);return e.createPoint(y,g)}function Fe(e){vi("onShapeTimelineComplete: progress: "+e.gsapTimeline.progress())}function Me(e){vi("onShapeExplodeTimelineComplete: progress: "+e.gsapExplodeTimeline.progress())}function Oe(t){if(e.isArray(t))for(var i=0;i<t.length;i++)Ct(t[i]);else Ct(t)}function ze(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)At(t,i[r],n);else At(t,i,n)}function Le(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)Ne(t,i[r],n);else Ne(t,i,n)}function Ne(e,t,i){if(!ui(t))switch(vi("runAudio: "+e+yi+t),t){case"buffer":De(e,i);break;case"granulator":Re(e,i);break;case"speechSynth":Xe(e,i)}}function De(t,i){if(e.isString(t))switch(t){case"play":et(i);break;default:return void fi("runAudioBuffer: Unknown actionId: "+t)}}function Re(t,i){if(e.isString(t))switch(t){case"play":Ge(i);break;case"stop":Ue(i);break;case"config":qe(i);break;case"rampLinear":je(i);break;case"rampSin":We(i);break;case"volume":Be(i);break;default:return void fi("runAudioGranulator: Unknown actionId: "+t)}}function Ge(e){ui(n)?fi("runAudioPlayGranulator: Invalid zsAudio lib"):n.playGranulator()}function Ue(e){ui(n)?fi("runAudioPlayGranulator: Invalid zsAudio lib"):n.stopGranulator()}function je(t){if(ui(n))fi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,r=null,l=null;ui(t.paramName)||(i=t.paramName),ui(t.endValue)||(r=t.endValue),ui(t.duration)||(l=t.duration),n.setGranulatorRampLinear(i,r,l)}}function Be(t){if(ui(n))fi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,r=null;ui(t.level)||(i=t.level),ui(t.timeMs)||(r=t.timeMs),n.setGranulatorGain(i,r)}}function We(t){if(ui(n))fi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=null,r=null,l=null,a=null;ui(t.paramName)||(i=t.paramName),ui(t.amplitude)||(r=t.amplitude),ui(t.frequency)||(l=t.frequency),ui(t.duration)||(a=t.duration),n.setGranulatorRampSin(i,r,l,a)}}function He(){ui(n)?fi("runAudioPlayGranulator: Invalid zsAudio lib"):n.resetGranulator()}function Qe(){Ie()}function qe(t){ui(n)?fi("runAudioPlayGranulator: Invalid zsAudio lib"):e.isObject(t)&&n.setGranulatorConfig(t)}function Xe(t,i){if(e.isString(t))switch(t){case"play":Ze(i);break;case"stop":_e(i);break;case"config":Je(i);break;case"state":Ke(i);break;case"rampLinear":$e(i);break;default:return void fi("runSpeechSynth: Unknown actionId: "+t)}}function Ze(e){if(ui(n))fi("runPlaySpeechSynth: Invalid zsAudio lib");else if(ui(e))fi("runPlaySpeechSynth: Invalid params");else{var t=hi,i="random",r=!1;ui(e.speechText)||(t=e.speechText),ui(e.speechVoice)||(i=e.speechVoice),ui(e.speechIsInterrupt)||(r=e.speechIsInterrupt);var l=Ji.playingTileId;ui(l)&&(l=Ji.selectedTileId);var a=ce(l);Ye(t,i,r,a)}}function Ye(t,i,r,l){if(!ui(t)){if(e.contains(t,Qi)){var a=null;ui(l)||(a=l.txt),t=e.isString(a.value)?e.replace(t,Qi,a.value):e.replace(t,Qi,hi)}n.speak(t,i,r)}}function _e(e){ui(n)?fi("runStopSpeechSynth: Invalid zsAudio lib"):n.stopSpeach()}function Je(e){ui(n)?fi("updateSpeechCofig: Invalid zsAudio lib"):n.setSpeechConfig(e)}function Ke(t){if(e.isObject(t)){var i=Ji.speech;ui(t.isPlaySpeechSynthOnClick)||(i.isPlaySpeechSynthOnClick=t.isPlaySpeechSynthOnClick),ui(t.speechText)||(i.speechText=t.speechText),ui(t.speechVoice)||(i.speechVoice=t.speechVoice),ui(t.speechIsInterrupt)||(i.speechIsInterrupt=t.speechIsInterrupt)}else fi("setSpeechState: Invalid params")}function $e(t){if(e.isObject(t)){var i=null;ui(t.paramName)||(i=t.paramName);var r=null;ui(t.endValue)||(r=t.endValue);var l=null;ui(t.duration)||(l=t.duration),n.rumpLinearSpeechParam(i,r,l)}else fi("setSpeechState: Invalid params")}function et(t){if(ui(n))fi("runAudioPlayGranulator: Invalid zsAudio lib");else if(e.isObject(t)){var i=0;ui(t.index)||(e.isString(t.index)?i=e.toInt(t.index):e.isNumeric(t.index)&&(i=t.index));var r=null,l=null,a=null;ui(t.startTime)||(r=t.startTime),ui(t.offset)||(l=t.offset),ui(t.duration)||(a=t.duration),n.playAudio(i,r,l,a)}}function tt(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)it(t,i[r],n);else it(t,i,n)}function it(t,i,n){if(e.isString(t)&&e.isObject(n))switch(vi("rotate: "+i),t){case"start":nt(i,n);break;case"reset":rt(i,n);break;default:return void fi("Unknown rotate actionId: "+t)}}function nt(t,i){var n=0,r=360;ui(i.duration)||(n=i.duration),ui(i.angle)||(r=i.angle);var l=null;if(ue(t)){var a=Ki.tileGroupPrefix+t,s=e.getElement(t),o=Dt(s);e.isArray(o)&&o.length>0?l=o[0]:(l=ke(a,n,r),o.push(l))}else if(de(t)){var c=ye(t);if(!ui(c)){var u=c.tweens;l=u,e.isArray(u)&&(l=u[0])}}ii(l)}function rt(t,i){if(e.isString(t)){if(ue(t)){var n=e.getElement(t),r=Dt(n);if(e.isArray(r)&&r.length>0){var l=r[0];ui(l)||l.pause(0)}}Ki.all===t.toUpperCase()&&Ji.tiles}}function lt(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)at(t,i[r],n);else at(t,i,n)}function at(t,i,n){if(e.isString(t)&&e.isObject(n))switch(vi("runAlpha: "+i),t){case"start":st(i,n);break;default:return void fi("Unknown aplha actionId: "+t)}}function st(e,t){var i=0;ui(t.duration)||(i=t.duration);var n=1;ui(t.value)||(n=t.value);var r=null;if(ue(e)){var l=Ki.tileGroupPrefix+e;r=Ae(l,i,n)}else r=Ae(e,i,n);ii(r)}function ot(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)ct(t,i[r],n);else ct(t,i,n)}function ct(t,i,n){if(e.isString(t))switch(vi("reset: actionId: "+t+yi+i),t){case"all":ut(i,n);break;case"elements":dt(i,n);break;default:return void fi("Unknown reset actionId: "+t)}}function ut(t,i){if(e.isString(t))switch(t){case"tiles":x();break;case"shapes":P();break;case"elements":f();break;case"granulator":He();break;case"selectedTiles":Qe();break;default:return void fi("Unknown reset target: "+t)}}function dt(e,t){if(ue(e))S(ce(elementId));else switch(e){case"centreShape":return T(Ji.centreShape);case"innerCircle":return T(Ji.innerCircle);case"outerCircle":return T(Ji.outerCircle);case"zoom":return I();default:vi("resetElements: unknown target: "+e)}}function ft(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)vt(t,i[r],n);else vt(t,i,n)}function vt(t,i,n){if(e.isString(t))switch(vi("runActivate: actionId: "+t+yi+i),t){case"display":pt(i,n);break;default:return void fi("Unknown activate actionId: "+t)}}function pt(e,t){if(!ui(e))switch(vi("runDisplayAction: target: "+e),e){case"selectedTiles":ht(t)}}function ht(e){vi("runDisplaySelectedTiles: "),xe()}function yt(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)gt(t,i[r],n);else gt(t,i,n)}function gt(t,i,n){if(e.isString(t))switch(vi("runDeActivate: actionId: "+t+yi+i),t){case"display":mt(i,n);break;default:return void fi("Unknown DeActivate actionId: "+t)}}function mt(e,t){if(!ui(e))switch(vi("runDeActivateDisplayAction: target: "+e),e){case"selectedTiles":xt(t)}}function xt(e){vi("runRemoveSelectedTiles: "),Te()}function St(t,i,n){if(e.isArray(i))for(var r=0;r<i.length;r++)bt(t,i[r],n);else bt(t,i,n)}function bt(t,i,n){if(e.isString(t))switch(vi("stop: actionId: "+t+yi+i),t){case"stop":Pt(i,n);break;default:return void fi("Unknown stop actionId: "+t)}}function Pt(e,t){if(!ui(e))switch(vi("runStopAction: target: "+e),e){case"all":Tt(t);break;case"granulator":Ue(t);break;case"speechSynth":_e(t)}}function Tt(e){vi("runStopAll: "),!ui(n)&&n.isReady()&&(Ue(e),_e(e))}function It(e){ui(e)||Ct(e)}function Ct(e){var t=wt();if(ui(t))vi("zoom: invalid canvas");else{vi("zoomTarget: "+e);var i=kt(e);gsap.to(t,{attr:{viewBox:i},ease:"power3.out",duration:Ki.zoomDuration})}}function Et(e){O(e.line1,e.line2,e.line3,e.colour,e.isVisible)}function kt(t){switch(e.isString(t)||(t="default"),t){case"centreShape":return"660 660 204 204";case"innerCircle":return"471 471 582 582";case"outerCircleSmall":return"350 350 824 824";case"outerCircle":default:return"0 0 1525 1525"}}function At(t,i,n){if(e.isString(i)&&e.isString(t)){vi("runTimeline: "+i);var r=null;switch(i){case"centreShape":r=Ji.centreShape.gsapTimeline;break;case"innerCircle":r=Ji.innerCircle.gsapTimeline;break;case"outerCircle":r=Ji.outerCircle.gsapTimeline;break;case"centreShapeExplode":r=Ji.centreShape.gsapExplodeTimeline;break;case"innerCircleExplode":r=Ji.innerCircle.gsapExplodeTimeline;break;case"outerCircleExplode":r=Ji.outerCircle.gsapExplodeTimeline;break;default:return void fi("runTimeline: invalid target: "+i)}switch(t){case"start":Vt(r,n);break;case"stop":Ft(r);break;case"end":Mt(r);break;case"reset":Ot(r);break;case"reverse":Lt(r,n);break;case"resume":zt(r,n);break;default:return void fi("runTimeline: invalid actionId: "+t)}}}function wt(){return e.getElement("svgCanvas")}function Vt(e,t){if(ui(e))fi("startTimeline: invalid timeline");else{if(!ui(t)&&!ui(t.duration)){var i=t.duration;e.totalDuration(i)}var n=e.progress();n>0?e.restart():e.play()}}function Ft(e){ui(e)?fi("stopTimeline: invalid timeline"):e.pause()}function Mt(e){ui(e)?fi("endTimeline: invalid timeline"):e.pause(1)}function Ot(e){ui(e)?fi("stopTimeline: invalid timeline"):e.pause(0)}function zt(e,t){if(ui(e))fi("resumeTimeline: invalid timeline");else if(!e.isActive()){var i=e.totalDuration();if(!ui(t)&&!ui(t.duration))i=t.duration;var n=e.progress();1==n||0==n?(e.totalDuration(i),e.restart()):e.resume()}}function Lt(e,t){if(ui(e))fi("reverseTimeline: invalid timeline");else{var i=e.progress();if(i<1&&Mt(e),!ui(t)&&!ui(t.duration)){var n=t.duration;e.totalDuration(n)}e.reverse()}}function Nt(t){e.getElement(t)}function Dt(t){if(!e.isObject(t))return[];if(ue(t.id)){var i=oe(t);return i.tweens}return gsap.getTweensOf(t)}function Rt(e,t){if(!ui(e)){var i="hidden";t&&(i="visible"),ci(e,{visibility:i})}}function Gt(t){if(!ui(_i)){_i.innerHTML=hi;var i=Ji.instructions.l1,n=Ki.textSpanPrefix+"1",r=Ji.instructions.l2,l=Ki.textSpanPrefix+"2",a=Ji.instructions.l3,s=Ki.textSpanPrefix+"3",o=hi;t||(t=hi,e.isEmptyString(i)||(o=Ut(i,o),i=e.wrapInSpanElement(i,n),t+=i),e.isEmptyString(r)||(vi("displayInstructions: processing line2 "+r),o=Ut(r,o),r=e.wrapInSpanElement(r,l),t=e.addSuffixIfNotThere(t,Ki.textLineBreak),t+=r),e.isEmptyString(a)||(vi("displayInstructions: processing line3 "+a),o=Ut(a,o),a=e.wrapInSpanElement(a,s),t=e.addSuffixIfNotThere(t,Ki.textLineBreak),t+=a));var c=Ki.textFontSize,u=ri(o,c,_i);_i.style.fontSize=hi+u+"px",_i.style.fontFamily=Ki.textFontFamily,_i.innerHTML=t;var d=e.getChildElement(_i,e.toCssIdQuery(n));ui(d)||(d.style.opacity=0);var f=e.getChildElement(_i,e.toCssIdQuery(l));ui(f)||(f.style.opacity=0);var v=e.getChildElement(_i,e.toCssIdQuery(s));if(ui(v)||(v.style.opacity=0),Ji.instructions.isVisible=!0,Wt(_i,Ji.instructions),Ki.textSpanIsFadeIn){var p=Ki.textSpanFadeTimeSec,h=Ki.textSpanFadeStaggerTimeSec;ui(d)||gsap.to(d,{duration:p,autoAlpha:1,ease:"power1.in"}),ui(f)||gsap.to(f,{delay:h,duration:p,autoAlpha:1,ease:"power1.in"}),ui(v)||gsap.to(v,{delay:2*h,duration:p,autoAlpha:1,ease:"power1.in"})}else ui(d)||(d.style.opacity=1),ui(f)||(f.style.opacity=1),ui(v)||(v.style.opacity=1)}}function Ut(t,i){var n=e.removeMarkup(t);return n.length>i.length?n:i}function jt(e){return Ki.textFontType+yi+e+"px "+Ki.textFontFamily}function Bt(){ui(_i)||(_i.innerHTML=hi,Ji.instructions.isVisible=!1,Wt(_i,Ji.instructions))}function Wt(t,i){var n=B(i);ui(i.bckgCol)||(n.background=i.bckgCol),e.setElementStyleProperty(t,n)}function Ht(t){if(!ui(t)&&di(t.data)){var i=e.parseJson(serverData);Qt(i,!1)}}function Qt(e,t){ui(e)||(t||f(),di(e.tiles)&&(t?Xt(e.tiles):Zt(e.tiles)),di(e.centreShape)&&qt(e.centreShape,Ji.centreShape,"centreShape"),di(e.innerCircle)&&qt(e.innerCircle,Ji.innerCircle,"innerCircle"),di(e.outerCircle)&&qt(e.outerCircle,Ji.outerCircle,"outerCircle"),di(e.actions)&&_t(e.actions),di(e.zoomLevel)&&It(e.zoomLevel),di(e.instructions)&&Et(e.instructions))}function qt(e,t,i){ui(e)||ui(t)||(t.isVisible=e.isVisible,Ee(t,i))}function Xt(t){if(e.isArray(t)){for(var i=[],n=0;n<t.length;n++){var r=t[n];if(e.isObject(r)){var l=r.state,a=ce(l.id),s=r.tileText,o=a.txt;a.isActive=l.isActive,a.isVisible=l.isVisible,a.isPlaying=l.isPlaying,a.isPlayingNext=l.isPlayingNext,a.isPlayed=l.isPlayed,a.clickCount=l.clickCount,o.value=s.value,o.isVisible=s.isVisible,i.push(a)}else fi("processSeverTilesStateDelta: invalid server tile")}Yt(i)}}function Zt(t){if(e.isArray(t)&&e.isArray(t[0])){for(var i=[],n=0;n<t.length;n++)for(var r=t[n],l=0;l<r.length;l++){var a=t[n][l],s=Ji.tiles[n][l],o=a.id,c=s.id;if(o===c){var u=a.state,d=a.tileText,f=s.txt;ei(s,u)&&ti(f,d)||(s.isActive=u.isActive,s.isVisible=u.isVisible,s.isPlaying=u.isPlaying,s.isPlayingNext=u.isPlayingNext,s.isPlayed=u.isPlayed,s.clickCount=u.clickCount,f.value=d.value,f.isVisible=d.isVisible,i.push(s))}else fi("processSeverTilesState: Server id "+o+"and client id "+c+"not identical")}Yt(i)}}function Yt(t){vi("Have "+t.length+" tile changes");for(var i=0;i<t.length;i++){var n=t[i],r=e.getElement(n.id);!n.isPlayed&&n.isVisible&&n.isActive||!n.isSelected||(n.isSelected=!1),Ce(n,r),ge(n,r),me(n,r),n.isPlaying&&(Ji.playingTileId=n.id)}Q()}function _t(t){var i=null,n=null,r=[],l={};if(e.isArray(t))for(var a=0;a<t.length;a++){var s=t[a];di(s.id)&&(i=s.id),di(s.actionType)&&(n=s.actionType),di(s.elementIds)&&(r=s.elementIds),di(s.params)&&(l=s.params),Jt(i,n,r,l)}}function Jt(e,t,i,n){if(vi("doAction: "+e+" actionType: "+t),!ui(t)&&!ui(i))switch(t){case"ACTIVATE":ft(e,i,n);break;case"ANIMATION":break;case"DEACTIVATE":yt(e,i,n);break;case"VISIBLE":break;case"INVISIBLE":Kt(i);break;case"ZOOM":Oe(i);break;case"TIMELINE":ze(e,i,n);break;case"ROTATE":tt(e,i,n);break;case"ALPHA":lt(e,i,n);break;case"AUDIO":Le(e,i,n);break;case"RESET":ot(e,i,n);break;case"STOP":St(e,i,n);break;default:fi("doAction: Unknown actionType: "+t)}}function Kt(t){if(!ui(t))if(e.isArray(t))for(var i=0;i<t.length;i++)$t(t[i]);else $t(t)}function $t(t){if(!ui(t)){var i=e.getElement(t);if(ue(t)){var n=oe(i);if(ui(n))return;n.isVisible=!1,Ce(n,i)}}}function ei(e,t){return!ui(e)&&!ui(t)&&(e.id===t.id&&(e.isVisible===t.isVisible&&e.isActive===t.isActive&&e.isPlaying===t.isPlaying&&e.isPlayingNext===t.isPlayingNext&&e.clickCount===t.clickCount&&e.isPlayed===t.isPlayed))}function ti(e,t){return!ui(e)&&!ui(t)&&(e.isVisible===t.isVisible&&e.value===t.value)}function ii(e){if(!ui(e)){var t=e.progress();t>0?e.restart():e.play()}}function ni(){return e.getElement(Ki.instructionTxtElementId)}function ri(e,t,i){var n=1;r.innerWidth||l.documentElement.clientWidth||l.body.clientWidth;var a=r.innerHeight||l.documentElement.clientHeight||l.body.clientHeight,s=(jt(n),i.clientWidth),o=s*Ki.textWidthCompressor,c=a*Ki.textAreaMax;n=ai(e,t,o),n=li(s,n,c);var u=Ki.textMaxFontSize;return n>u&&(n=u),n}function li(e,t,i){var n=jt(t),r=t,l=oi(n,e,i);if(l<0)return r;var a=l*Ki.textNumberOfLines,s=i/a;return s<1&&(r*=s),r}function ai(e,t,i){var n=jt(t),r=si(n,e),l=r.width;if(l<=0||l>i||Math.abs(i-l)<1)return t;var a=i/l,s=t*a;return ai(e,s,i)}function si(e,t){var i=Ji.fontCanvas,n=Ji.canvasCtx;return n.fillRect(0,0,i.width,i.height),n.textBaseline="top",n.fillStyle=Pi,n.font=e,n.measureText(t)}function oi(e,t,i){var n=Ji.fontCanvas,r=Ji.canvasCtx;n.width=t,n.height=i,r.fillRect(0,0,n.width,n.height),r.textBaseline="top",r.fillStyle=Pi,r.font=e;var l="gM";r.fillText(l,0,0);for(var a=r.getImageData(0,0,n.width,n.height).data,s=-1,o=-1,c=0;c<n.height;c++)for(var u=0;u<n.width;u++){var d=4*(c*n.width+u);if(0!==a[d]){-1===s&&(s=c);break}if(u===n.width-1&&-1!==s){o=c,c=n.height;break}}var f=(o-s)*Ki.textHeightCompressor;return f}function ci(t,i){e.setElementAttributes(t,i)}function ui(t){return e.isNull(t)}function di(t){return e.isNotNull(t)}function fi(t){e.logError(t)}function vi(t){e.log(t)}const pi="DEV",hi="",yi=" ",gi="m",mi="ELEMENT_SELECTED",xi="elementId",Si="selected",bi="fill",Pi="#FFFFFF",Ti="#000000",Ii="#CCFFCC",Ci="#C0C0C0",Ei="#2F4F4F",ki="#696969",Ai="#4B4B4B",wi="#FFA500",Vi="#DC143C",Fi=ki,Mi=Ai,Oi=Ai,zi=Ai,Li=Pi,Ni=Ei,Di=Ei,Ri=Pi,Gi=Pi,Ui=Ti,ji=Vi,Bi=Ii,Wi=wi,Hi=Ci,Qi="@TILE_TEXT@",qi="Arial";var Xi=["/audio/violin-tuning.mp3","/audio/UnionRoseE2m.mp3","/audio/UnionRoseE3.mp3","/audio/UnionRoseE4.mp3","/audio/UnionRoseE5.mp3","/audio/UnionRose-m1.mp3"],Zi=null,Yi=null,_i=null,Ji={tiles:[],tileCircles:[],
centreShape:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},innerCircle:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},outerCircle:{isVisible:!1,gsapTimeline:{},gsapExplodeTimeline:{}},instructions:{isVisible:!1,l1:hi,l2:hi,l3:hi,bckgCol:"rgba(225, 225, 225, 0.85)"},selectedTileId:null,playingTileId:null,fontCanvas:null,canvasCtx:null,speech:{isPlaySpeechSynthOnClick:!1,speechText:"I, I clicked on "+Qi,speechVoice:"random",speechIsInterrupt:!0}},Ki={connectionPreference:"ws,poll",centre:{x:762,y:762},circleRadii:[55,92,125,194,291,401,552,750],outerFrameRadius:2e3,lineEnd:{x:762,y:12},lineLen:750,lineAngles:[0,45,90,135,180,225,270,315],tileAngles:[0,45,90,135,180,225,270,315,360],viewMinPoint:0,viewMaxPoint:1525,circlePrefix:"c",linePrefix:"l",tilePrefix:"t",overlayPrefix:"o",selectedPrefix:"s",tileCircleGroupPrefix:"ctg",tileGroupPrefix:"g",tileTextElementPrefix:"x",tileTextPathElementPrefix:"px",tileTextElementPathPrefix:"hx",tileTextSpanPrefix:"sp",stageParentId:"stage",overlayParentId:"overlay",stageId:"stageCircle",frameParentId:"frame",outerFrameId:"outerFrame",elementIdDelimiter:"-",svgArcs:[null,null,null,null,null,null,null,null],gridParentId:"grid",gridStyle:{fill:"none",stroke:"aqua","stroke-width":"2px"},stageStyle:{fill:Ui,"stroke-width":"0px","stroke-opacity":"0",visibility:"visible",opacity:1,"pointer-events":"none"},tilesParentId:"tiles",frameStyle:{fill:Gi,"stroke-width":"0px","stroke-opacity":"0",visibility:"visible",opacity:1},tileStyleOverlayPlayingNext:{fill:"none",stroke:Wi,"stroke-width":"1px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleOverlayPlaying:{fill:"none",stroke:Bi,"stroke-width":"1px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleOverlaySelected:{fill:"none",stroke:ji,"stroke-width":"2px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleSelectedPath:{fill:"none",stroke:ji,"stroke-width":"7px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleConnectorPath:{fill:"none",stroke:ji,"stroke-width":"2px",visibility:"visible",opacity:1,"pointer-events":"none"},tileStyleVisible:{fill:zi,stroke:Hi,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleActive:{fill:Mi,stroke:Hi,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleInActive:{fill:Li,stroke:Hi,"stroke-width":"2px","pointer-events":"all",visibility:"visible",opacity:1},tileStyleInvisible:{visibility:"hidden"},tileStyleOnPonterEntry:{fill:Ni},tileStyleSelected:{fill:Di,stroke:Hi,"stroke-width":"2px",visibility:"visible",opacity:1},tileStylePlayed:{visibility:"hidden"},tileStylePlaying:{fill:Oi,stroke:Hi,"stroke-width":"1px",visibility:"visible",opacity:1},tileStylePlayingNext:{stroke:Hi,"stroke-width":"2px",visibility:"visible",opacity:1},tileStyleTextPathDef:{fill:"none",stroke:"none"},tileStyleTextElement:{visibility:"visible",opacity:1},tileStyleTextElementInvisible:{visibility:"hidden"},tileStyleTorusTextPathElement:{startOffset:"50%","text-anchor":"middle",fill:Ri,stroke:"none"},tileStylePieTextPathElement:{startOffset:"90%","text-anchor":"end",fill:Ri,stroke:"none"},tileStyleInvertedPieTextPathElement:{startOffset:"10%","text-anchor":"start",fill:Ri,stroke:"none"},tileStyleTextSpan:{"font-family":qi,"dominant-baseline":"middle"},tileTextMinLength:5,tileTextSizeMultiplier:{torus:.8,pie:.7},shapeStyleInvisible:{visibility:"hidden"},shapeStyleVisible:{visibility:"visible"},shapeTimelineDuration:60,shapeExplodeDuration:5,instructionTxtElementId:"instructionTxt",textLineBreak:"<br/>",textStyleInvisible:{visibility:"hidden"},textStyleVisible:{visibility:"visible"},textFontFamily:"Arial",textFontType:"normal",textFontSize:50,textMaxFontSize:70,textMaxLineLen:30,textHeightCompressor:1.1,textWidthCompressor:.9,textAreaMax:.4,textNumberOfLines:3,textSpanPrefix:"is",textSpanIsFadeIn:!0,textSpanFadeTimeSec:1,textSpanFadeStaggerTimeSec:.5,appUrlHttp:"/htp",appUrlSse:"/sse",appUrlWebsockets:"/wsoc",zoomDuration:3,all:"ALL",testTextElementId:"testTxt",colModPerClick:-20,maxColModPerClick:-150,overlayInDuration:12};return{load:function(){u()},createSvgTile:z,initTiles:m,setTileText:G}}(zsUtil,zsNet,zsSvg,zsAudio,window,document);